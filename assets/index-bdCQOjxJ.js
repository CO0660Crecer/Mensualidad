(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Th(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Wu={exports:{}},ei={},Vu={exports:{}},$={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var In=Symbol.for("react.element"),Oh=Symbol.for("react.portal"),Rh=Symbol.for("react.fragment"),Ah=Symbol.for("react.strict_mode"),Lh=Symbol.for("react.profiler"),Ih=Symbol.for("react.provider"),$h=Symbol.for("react.context"),Dh=Symbol.for("react.forward_ref"),Uh=Symbol.for("react.suspense"),Mh=Symbol.for("react.memo"),zh=Symbol.for("react.lazy"),vl=Symbol.iterator;function Fh(t){return t===null||typeof t!="object"?null:(t=vl&&t[vl]||t["@@iterator"],typeof t=="function"?t:null)}var qu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ku=Object.assign,Gu={};function Mr(t,e,r){this.props=t,this.context=e,this.refs=Gu,this.updater=r||qu}Mr.prototype.isReactComponent={};Mr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Mr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Qu(){}Qu.prototype=Mr.prototype;function pa(t,e,r){this.props=t,this.context=e,this.refs=Gu,this.updater=r||qu}var ma=pa.prototype=new Qu;ma.constructor=pa;Ku(ma,Mr.prototype);ma.isPureReactComponent=!0;var yl=Array.isArray,Ju=Object.prototype.hasOwnProperty,ga={current:null},Yu={key:!0,ref:!0,__self:!0,__source:!0};function Xu(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Ju.call(e,n)&&!Yu.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:In,type:t,key:i,ref:o,props:s,_owner:ga.current}}function Bh(t,e){return{$$typeof:In,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function va(t){return typeof t=="object"&&t!==null&&t.$$typeof===In}function Hh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var wl=/\/+/g;function Ni(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Hh(""+t.key):e.toString(36)}function ps(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case In:case Oh:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+Ni(o,0):n,yl(s)?(r="",t!=null&&(r=t.replace(wl,"$&/")+"/"),ps(s,e,r,"",function(c){return c})):s!=null&&(va(s)&&(s=Bh(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(wl,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",yl(t))for(var a=0;a<t.length;a++){i=t[a];var u=n+Ni(i,a);o+=ps(i,e,r,u,s)}else if(u=Fh(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=n+Ni(i,a++),o+=ps(i,e,r,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function qn(t,e,r){if(t==null)return t;var n=[],s=0;return ps(t,n,"","",function(i){return e.call(r,i,s++)}),n}function Wh(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ve={current:null},ms={transition:null},Vh={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:ms,ReactCurrentOwner:ga};function Zu(){throw Error("act(...) is not supported in production builds of React.")}$.Children={map:qn,forEach:function(t,e,r){qn(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return qn(t,function(){e++}),e},toArray:function(t){return qn(t,function(e){return e})||[]},only:function(t){if(!va(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$.Component=Mr;$.Fragment=Rh;$.Profiler=Lh;$.PureComponent=pa;$.StrictMode=Ah;$.Suspense=Uh;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vh;$.act=Zu;$.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Ku({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ga.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)Ju.call(e,u)&&!Yu.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:In,type:t.type,key:s,ref:i,props:n,_owner:o}};$.createContext=function(t){return t={$$typeof:$h,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ih,_context:t},t.Consumer=t};$.createElement=Xu;$.createFactory=function(t){var e=Xu.bind(null,t);return e.type=t,e};$.createRef=function(){return{current:null}};$.forwardRef=function(t){return{$$typeof:Dh,render:t}};$.isValidElement=va;$.lazy=function(t){return{$$typeof:zh,_payload:{_status:-1,_result:t},_init:Wh}};$.memo=function(t,e){return{$$typeof:Mh,type:t,compare:e===void 0?null:e}};$.startTransition=function(t){var e=ms.transition;ms.transition={};try{t()}finally{ms.transition=e}};$.unstable_act=Zu;$.useCallback=function(t,e){return ve.current.useCallback(t,e)};$.useContext=function(t){return ve.current.useContext(t)};$.useDebugValue=function(){};$.useDeferredValue=function(t){return ve.current.useDeferredValue(t)};$.useEffect=function(t,e){return ve.current.useEffect(t,e)};$.useId=function(){return ve.current.useId()};$.useImperativeHandle=function(t,e,r){return ve.current.useImperativeHandle(t,e,r)};$.useInsertionEffect=function(t,e){return ve.current.useInsertionEffect(t,e)};$.useLayoutEffect=function(t,e){return ve.current.useLayoutEffect(t,e)};$.useMemo=function(t,e){return ve.current.useMemo(t,e)};$.useReducer=function(t,e,r){return ve.current.useReducer(t,e,r)};$.useRef=function(t){return ve.current.useRef(t)};$.useState=function(t){return ve.current.useState(t)};$.useSyncExternalStore=function(t,e,r){return ve.current.useSyncExternalStore(t,e,r)};$.useTransition=function(){return ve.current.useTransition()};$.version="18.3.1";Vu.exports=$;var P=Vu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qh=P,Kh=Symbol.for("react.element"),Gh=Symbol.for("react.fragment"),Qh=Object.prototype.hasOwnProperty,Jh=qh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yh={key:!0,ref:!0,__self:!0,__source:!0};function ec(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Qh.call(e,n)&&!Yh.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Kh,type:t,key:i,ref:o,props:s,_owner:Jh.current}}ei.Fragment=Gh;ei.jsx=ec;ei.jsxs=ec;Wu.exports=ei;var l=Wu.exports,tc={exports:{}},Pe={},rc={exports:{}},nc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(C,A){var L=C.length;C.push(A);e:for(;0<L;){var J=L-1>>>1,se=C[J];if(0<s(se,A))C[J]=A,C[L]=se,L=J;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var A=C[0],L=C.pop();if(L!==A){C[0]=L;e:for(var J=0,se=C.length,Wn=se>>>1;J<Wn;){var Dt=2*(J+1)-1,Ei=C[Dt],Ut=Dt+1,Vn=C[Ut];if(0>s(Ei,L))Ut<se&&0>s(Vn,Ei)?(C[J]=Vn,C[Ut]=L,J=Ut):(C[J]=Ei,C[Dt]=L,J=Dt);else if(Ut<se&&0>s(Vn,L))C[J]=Vn,C[Ut]=L,J=Ut;else break e}}return A}function s(C,A){var L=C.sortIndex-A.sortIndex;return L!==0?L:C.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,h=null,f=3,v=!1,y=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(C){for(var A=r(c);A!==null;){if(A.callback===null)n(c);else if(A.startTime<=C)n(c),A.sortIndex=A.expirationTime,e(u,A);else break;A=r(c)}}function w(C){if(x=!1,m(C),!y)if(r(u)!==null)y=!0,ji(b);else{var A=r(c);A!==null&&bi(w,A.startTime-C)}}function b(C,A){y=!1,x&&(x=!1,g(k),k=-1),v=!0;var L=f;try{for(m(A),h=r(u);h!==null&&(!(h.expirationTime>A)||C&&!X());){var J=h.callback;if(typeof J=="function"){h.callback=null,f=h.priorityLevel;var se=J(h.expirationTime<=A);A=t.unstable_now(),typeof se=="function"?h.callback=se:h===r(u)&&n(u),m(A)}else n(u);h=r(u)}if(h!==null)var Wn=!0;else{var Dt=r(c);Dt!==null&&bi(w,Dt.startTime-A),Wn=!1}return Wn}finally{h=null,f=L,v=!1}}var S=!1,E=null,k=-1,O=5,T=-1;function X(){return!(t.unstable_now()-T<O)}function Ke(){if(E!==null){var C=t.unstable_now();T=C;var A=!0;try{A=E(!0,C)}finally{A?$t():(S=!1,E=null)}}else S=!1}var $t;if(typeof p=="function")$t=function(){p(Ke)};else if(typeof MessageChannel<"u"){var Hn=new MessageChannel,Ph=Hn.port2;Hn.port1.onmessage=Ke,$t=function(){Ph.postMessage(null)}}else $t=function(){_(Ke,0)};function ji(C){E=C,S||(S=!0,$t())}function bi(C,A){k=_(function(){C(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(C){C.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,ji(b))},t.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<C?Math.floor(1e3/C):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(C){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var L=f;f=A;try{return C()}finally{f=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(C,A){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var L=f;f=C;try{return A()}finally{f=L}},t.unstable_scheduleCallback=function(C,A,L){var J=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?J+L:J):L=J,C){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=L+se,C={id:d++,callback:A,priorityLevel:C,startTime:L,expirationTime:se,sortIndex:-1},L>J?(C.sortIndex=L,e(c,C),r(u)===null&&C===r(c)&&(x?(g(k),k=-1):x=!0,bi(w,L-J))):(C.sortIndex=se,e(u,C),y||v||(y=!0,ji(b))),C},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(C){var A=f;return function(){var L=f;f=A;try{return C.apply(this,arguments)}finally{f=L}}}})(nc);rc.exports=nc;var Xh=rc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh=P,Ce=Xh;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sc=new Set,vn={};function tr(t,e){Or(t,e),Or(t+"Capture",e)}function Or(t,e){for(vn[t]=e,t=0;t<e.length;t++)sc.add(e[t])}var at=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ao=Object.prototype.hasOwnProperty,ef=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xl={},_l={};function tf(t){return ao.call(_l,t)?!0:ao.call(xl,t)?!1:ef.test(t)?_l[t]=!0:(xl[t]=!0,!1)}function rf(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function nf(t,e,r,n){if(e===null||typeof e>"u"||rf(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ye(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ue[t]=new ye(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ue[e]=new ye(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ue[t]=new ye(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ue[t]=new ye(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ue[t]=new ye(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ue[t]=new ye(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ue[t]=new ye(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ue[t]=new ye(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ue[t]=new ye(t,5,!1,t.toLowerCase(),null,!1,!1)});var ya=/[\-:]([a-z])/g;function wa(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ya,wa);ue[e]=new ye(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ya,wa);ue[e]=new ye(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ya,wa);ue[e]=new ye(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ue[t]=new ye(t,1,!1,t.toLowerCase(),null,!1,!1)});ue.xlinkHref=new ye("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ue[t]=new ye(t,1,!1,t.toLowerCase(),null,!0,!0)});function xa(t,e,r,n){var s=ue.hasOwnProperty(e)?ue[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(nf(e,r,s,n)&&(r=null),n||s===null?tf(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var dt=Zh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kn=Symbol.for("react.element"),fr=Symbol.for("react.portal"),pr=Symbol.for("react.fragment"),_a=Symbol.for("react.strict_mode"),lo=Symbol.for("react.profiler"),ic=Symbol.for("react.provider"),oc=Symbol.for("react.context"),ka=Symbol.for("react.forward_ref"),uo=Symbol.for("react.suspense"),co=Symbol.for("react.suspense_list"),Sa=Symbol.for("react.memo"),mt=Symbol.for("react.lazy"),ac=Symbol.for("react.offscreen"),kl=Symbol.iterator;function Wr(t){return t===null||typeof t!="object"?null:(t=kl&&t[kl]||t["@@iterator"],typeof t=="function"?t:null)}var G=Object.assign,Ci;function Zr(t){if(Ci===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Ci=e&&e[1]||""}return`
`+Ci+t}var Pi=!1;function Ti(t,e){if(!t||Pi)return"";Pi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Pi=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Zr(t):""}function sf(t){switch(t.tag){case 5:return Zr(t.type);case 16:return Zr("Lazy");case 13:return Zr("Suspense");case 19:return Zr("SuspenseList");case 0:case 2:case 15:return t=Ti(t.type,!1),t;case 11:return t=Ti(t.type.render,!1),t;case 1:return t=Ti(t.type,!0),t;default:return""}}function ho(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pr:return"Fragment";case fr:return"Portal";case lo:return"Profiler";case _a:return"StrictMode";case uo:return"Suspense";case co:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case oc:return(t.displayName||"Context")+".Consumer";case ic:return(t._context.displayName||"Context")+".Provider";case ka:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Sa:return e=t.displayName||null,e!==null?e:ho(t.type)||"Memo";case mt:e=t._payload,t=t._init;try{return ho(t(e))}catch{}}return null}function of(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ho(e);case 8:return e===_a?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Tt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function lc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function af(t){var e=lc(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Gn(t){t._valueTracker||(t._valueTracker=af(t))}function uc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=lc(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Ns(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function fo(t,e){var r=e.checked;return G({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Sl(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Tt(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function cc(t,e){e=e.checked,e!=null&&xa(t,"checked",e,!1)}function po(t,e){cc(t,e);var r=Tt(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?mo(t,e.type,r):e.hasOwnProperty("defaultValue")&&mo(t,e.type,Tt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function jl(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function mo(t,e,r){(e!=="number"||Ns(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var en=Array.isArray;function br(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Tt(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function go(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return G({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bl(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(j(92));if(en(r)){if(1<r.length)throw Error(j(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Tt(r)}}function dc(t,e){var r=Tt(e.value),n=Tt(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function El(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function hc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?hc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qn,fc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Qn=Qn||document.createElement("div"),Qn.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Qn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function yn(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var sn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lf=["Webkit","ms","Moz","O"];Object.keys(sn).forEach(function(t){lf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sn[e]=sn[t]})});function pc(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||sn.hasOwnProperty(t)&&sn[t]?(""+e).trim():e+"px"}function mc(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=pc(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var uf=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yo(t,e){if(e){if(uf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function wo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xo=null;function ja(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _o=null,Er=null,Nr=null;function Nl(t){if(t=Un(t)){if(typeof _o!="function")throw Error(j(280));var e=t.stateNode;e&&(e=ii(e),_o(t.stateNode,t.type,e))}}function gc(t){Er?Nr?Nr.push(t):Nr=[t]:Er=t}function vc(){if(Er){var t=Er,e=Nr;if(Nr=Er=null,Nl(t),e)for(t=0;t<e.length;t++)Nl(e[t])}}function yc(t,e){return t(e)}function wc(){}var Oi=!1;function xc(t,e,r){if(Oi)return t(e,r);Oi=!0;try{return yc(t,e,r)}finally{Oi=!1,(Er!==null||Nr!==null)&&(wc(),vc())}}function wn(t,e){var r=t.stateNode;if(r===null)return null;var n=ii(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(j(231,e,typeof r));return r}var ko=!1;if(at)try{var Vr={};Object.defineProperty(Vr,"passive",{get:function(){ko=!0}}),window.addEventListener("test",Vr,Vr),window.removeEventListener("test",Vr,Vr)}catch{ko=!1}function cf(t,e,r,n,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var on=!1,Cs=null,Ps=!1,So=null,df={onError:function(t){on=!0,Cs=t}};function hf(t,e,r,n,s,i,o,a,u){on=!1,Cs=null,cf.apply(df,arguments)}function ff(t,e,r,n,s,i,o,a,u){if(hf.apply(this,arguments),on){if(on){var c=Cs;on=!1,Cs=null}else throw Error(j(198));Ps||(Ps=!0,So=c)}}function rr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function _c(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Cl(t){if(rr(t)!==t)throw Error(j(188))}function pf(t){var e=t.alternate;if(!e){if(e=rr(t),e===null)throw Error(j(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Cl(s),t;if(i===n)return Cl(s),e;i=i.sibling}throw Error(j(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(j(189))}}if(r.alternate!==n)throw Error(j(190))}if(r.tag!==3)throw Error(j(188));return r.stateNode.current===r?t:e}function kc(t){return t=pf(t),t!==null?Sc(t):null}function Sc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Sc(t);if(e!==null)return e;t=t.sibling}return null}var jc=Ce.unstable_scheduleCallback,Pl=Ce.unstable_cancelCallback,mf=Ce.unstable_shouldYield,gf=Ce.unstable_requestPaint,Y=Ce.unstable_now,vf=Ce.unstable_getCurrentPriorityLevel,ba=Ce.unstable_ImmediatePriority,bc=Ce.unstable_UserBlockingPriority,Ts=Ce.unstable_NormalPriority,yf=Ce.unstable_LowPriority,Ec=Ce.unstable_IdlePriority,ti=null,Xe=null;function wf(t){if(Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(ti,t,void 0,(t.current.flags&128)===128)}catch{}}var We=Math.clz32?Math.clz32:kf,xf=Math.log,_f=Math.LN2;function kf(t){return t>>>=0,t===0?32:31-(xf(t)/_f|0)|0}var Jn=64,Yn=4194304;function tn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Os(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=tn(a):(i&=o,i!==0&&(n=tn(i)))}else o=r&~s,o!==0?n=tn(o):i!==0&&(n=tn(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-We(e),s=1<<r,n|=t[r],e&=~s;return n}function Sf(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jf(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-We(i),a=1<<o,u=s[o];u===-1?(!(a&r)||a&n)&&(s[o]=Sf(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function jo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Nc(){var t=Jn;return Jn<<=1,!(Jn&4194240)&&(Jn=64),t}function Ri(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function $n(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-We(e),t[e]=r}function bf(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-We(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Ea(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-We(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var M=0;function Cc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Pc,Na,Tc,Oc,Rc,bo=!1,Xn=[],kt=null,St=null,jt=null,xn=new Map,_n=new Map,vt=[],Ef="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tl(t,e){switch(t){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":St=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":xn.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_n.delete(e.pointerId)}}function qr(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Un(e),e!==null&&Na(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Nf(t,e,r,n,s){switch(e){case"focusin":return kt=qr(kt,t,e,r,n,s),!0;case"dragenter":return St=qr(St,t,e,r,n,s),!0;case"mouseover":return jt=qr(jt,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return xn.set(i,qr(xn.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,_n.set(i,qr(_n.get(i)||null,t,e,r,n,s)),!0}return!1}function Ac(t){var e=Vt(t.target);if(e!==null){var r=rr(e);if(r!==null){if(e=r.tag,e===13){if(e=_c(r),e!==null){t.blockedOn=e,Rc(t.priority,function(){Tc(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Eo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);xo=n,r.target.dispatchEvent(n),xo=null}else return e=Un(r),e!==null&&Na(e),t.blockedOn=r,!1;e.shift()}return!0}function Ol(t,e,r){gs(t)&&r.delete(e)}function Cf(){bo=!1,kt!==null&&gs(kt)&&(kt=null),St!==null&&gs(St)&&(St=null),jt!==null&&gs(jt)&&(jt=null),xn.forEach(Ol),_n.forEach(Ol)}function Kr(t,e){t.blockedOn===e&&(t.blockedOn=null,bo||(bo=!0,Ce.unstable_scheduleCallback(Ce.unstable_NormalPriority,Cf)))}function kn(t){function e(s){return Kr(s,t)}if(0<Xn.length){Kr(Xn[0],t);for(var r=1;r<Xn.length;r++){var n=Xn[r];n.blockedOn===t&&(n.blockedOn=null)}}for(kt!==null&&Kr(kt,t),St!==null&&Kr(St,t),jt!==null&&Kr(jt,t),xn.forEach(e),_n.forEach(e),r=0;r<vt.length;r++)n=vt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<vt.length&&(r=vt[0],r.blockedOn===null);)Ac(r),r.blockedOn===null&&vt.shift()}var Cr=dt.ReactCurrentBatchConfig,Rs=!0;function Pf(t,e,r,n){var s=M,i=Cr.transition;Cr.transition=null;try{M=1,Ca(t,e,r,n)}finally{M=s,Cr.transition=i}}function Tf(t,e,r,n){var s=M,i=Cr.transition;Cr.transition=null;try{M=4,Ca(t,e,r,n)}finally{M=s,Cr.transition=i}}function Ca(t,e,r,n){if(Rs){var s=Eo(t,e,r,n);if(s===null)Bi(t,e,n,As,r),Tl(t,n);else if(Nf(s,t,e,r,n))n.stopPropagation();else if(Tl(t,n),e&4&&-1<Ef.indexOf(t)){for(;s!==null;){var i=Un(s);if(i!==null&&Pc(i),i=Eo(t,e,r,n),i===null&&Bi(t,e,n,As,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Bi(t,e,n,null,r)}}var As=null;function Eo(t,e,r,n){if(As=null,t=ja(n),t=Vt(t),t!==null)if(e=rr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=_c(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return As=t,null}function Lc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vf()){case ba:return 1;case bc:return 4;case Ts:case yf:return 16;case Ec:return 536870912;default:return 16}default:return 16}}var xt=null,Pa=null,vs=null;function Ic(){if(vs)return vs;var t,e=Pa,r=e.length,n,s="value"in xt?xt.value:xt.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return vs=s.slice(t,1<n?1-n:void 0)}function ys(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zn(){return!0}function Rl(){return!1}function Te(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Zn:Rl,this.isPropagationStopped=Rl,this}return G(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),e}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ta=Te(zr),Dn=G({},zr,{view:0,detail:0}),Of=Te(Dn),Ai,Li,Gr,ri=G({},Dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gr&&(Gr&&t.type==="mousemove"?(Ai=t.screenX-Gr.screenX,Li=t.screenY-Gr.screenY):Li=Ai=0,Gr=t),Ai)},movementY:function(t){return"movementY"in t?t.movementY:Li}}),Al=Te(ri),Rf=G({},ri,{dataTransfer:0}),Af=Te(Rf),Lf=G({},Dn,{relatedTarget:0}),Ii=Te(Lf),If=G({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),$f=Te(If),Df=G({},zr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Uf=Te(Df),Mf=G({},zr,{data:0}),Ll=Te(Mf),zf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ff={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hf(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Bf[t])?!!e[t]:!1}function Oa(){return Hf}var Wf=G({},Dn,{key:function(t){if(t.key){var e=zf[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ys(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ff[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oa,charCode:function(t){return t.type==="keypress"?ys(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ys(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Vf=Te(Wf),qf=G({},ri,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Il=Te(qf),Kf=G({},Dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oa}),Gf=Te(Kf),Qf=G({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jf=Te(Qf),Yf=G({},ri,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Xf=Te(Yf),Zf=[9,13,27,32],Ra=at&&"CompositionEvent"in window,an=null;at&&"documentMode"in document&&(an=document.documentMode);var ep=at&&"TextEvent"in window&&!an,$c=at&&(!Ra||an&&8<an&&11>=an),$l=" ",Dl=!1;function Dc(t,e){switch(t){case"keyup":return Zf.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mr=!1;function tp(t,e){switch(t){case"compositionend":return Uc(e);case"keypress":return e.which!==32?null:(Dl=!0,$l);case"textInput":return t=e.data,t===$l&&Dl?null:t;default:return null}}function rp(t,e){if(mr)return t==="compositionend"||!Ra&&Dc(t,e)?(t=Ic(),vs=Pa=xt=null,mr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $c&&e.locale!=="ko"?null:e.data;default:return null}}var np={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ul(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!np[t.type]:e==="textarea"}function Mc(t,e,r,n){gc(n),e=Ls(e,"onChange"),0<e.length&&(r=new Ta("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ln=null,Sn=null;function sp(t){Jc(t,0)}function ni(t){var e=yr(t);if(uc(e))return t}function ip(t,e){if(t==="change")return e}var zc=!1;if(at){var $i;if(at){var Di="oninput"in document;if(!Di){var Ml=document.createElement("div");Ml.setAttribute("oninput","return;"),Di=typeof Ml.oninput=="function"}$i=Di}else $i=!1;zc=$i&&(!document.documentMode||9<document.documentMode)}function zl(){ln&&(ln.detachEvent("onpropertychange",Fc),Sn=ln=null)}function Fc(t){if(t.propertyName==="value"&&ni(Sn)){var e=[];Mc(e,Sn,t,ja(t)),xc(sp,e)}}function op(t,e,r){t==="focusin"?(zl(),ln=e,Sn=r,ln.attachEvent("onpropertychange",Fc)):t==="focusout"&&zl()}function ap(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ni(Sn)}function lp(t,e){if(t==="click")return ni(e)}function up(t,e){if(t==="input"||t==="change")return ni(e)}function cp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var qe=typeof Object.is=="function"?Object.is:cp;function jn(t,e){if(qe(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ao.call(e,s)||!qe(t[s],e[s]))return!1}return!0}function Fl(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bl(t,e){var r=Fl(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Fl(r)}}function Bc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Bc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Hc(){for(var t=window,e=Ns();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ns(t.document)}return e}function Aa(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dp(t){var e=Hc(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Bc(r.ownerDocument.documentElement,r)){if(n!==null&&Aa(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Bl(r,i);var o=Bl(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hp=at&&"documentMode"in document&&11>=document.documentMode,gr=null,No=null,un=null,Co=!1;function Hl(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Co||gr==null||gr!==Ns(n)||(n=gr,"selectionStart"in n&&Aa(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),un&&jn(un,n)||(un=n,n=Ls(No,"onSelect"),0<n.length&&(e=new Ta("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=gr)))}function es(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var vr={animationend:es("Animation","AnimationEnd"),animationiteration:es("Animation","AnimationIteration"),animationstart:es("Animation","AnimationStart"),transitionend:es("Transition","TransitionEnd")},Ui={},Wc={};at&&(Wc=document.createElement("div").style,"AnimationEvent"in window||(delete vr.animationend.animation,delete vr.animationiteration.animation,delete vr.animationstart.animation),"TransitionEvent"in window||delete vr.transitionend.transition);function si(t){if(Ui[t])return Ui[t];if(!vr[t])return t;var e=vr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Wc)return Ui[t]=e[r];return t}var Vc=si("animationend"),qc=si("animationiteration"),Kc=si("animationstart"),Gc=si("transitionend"),Qc=new Map,Wl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rt(t,e){Qc.set(t,e),tr(e,[t])}for(var Mi=0;Mi<Wl.length;Mi++){var zi=Wl[Mi],fp=zi.toLowerCase(),pp=zi[0].toUpperCase()+zi.slice(1);Rt(fp,"on"+pp)}Rt(Vc,"onAnimationEnd");Rt(qc,"onAnimationIteration");Rt(Kc,"onAnimationStart");Rt("dblclick","onDoubleClick");Rt("focusin","onFocus");Rt("focusout","onBlur");Rt(Gc,"onTransitionEnd");Or("onMouseEnter",["mouseout","mouseover"]);Or("onMouseLeave",["mouseout","mouseover"]);Or("onPointerEnter",["pointerout","pointerover"]);Or("onPointerLeave",["pointerout","pointerover"]);tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));tr("onBeforeInput",["compositionend","keypress","textInput","paste"]);tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mp=new Set("cancel close invalid load scroll toggle".split(" ").concat(rn));function Vl(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,ff(n,e,void 0,t),t.currentTarget=null}function Jc(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;Vl(s,a,c),i=u}else for(o=0;o<n.length;o++){if(a=n[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;Vl(s,a,c),i=u}}}if(Ps)throw t=So,Ps=!1,So=null,t}function B(t,e){var r=e[Ao];r===void 0&&(r=e[Ao]=new Set);var n=t+"__bubble";r.has(n)||(Yc(e,t,2,!1),r.add(n))}function Fi(t,e,r){var n=0;e&&(n|=4),Yc(r,t,n,e)}var ts="_reactListening"+Math.random().toString(36).slice(2);function bn(t){if(!t[ts]){t[ts]=!0,sc.forEach(function(r){r!=="selectionchange"&&(mp.has(r)||Fi(r,!1,t),Fi(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ts]||(e[ts]=!0,Fi("selectionchange",!1,e))}}function Yc(t,e,r,n){switch(Lc(e)){case 1:var s=Pf;break;case 4:s=Tf;break;default:s=Ca}r=s.bind(null,e,r,t),s=void 0,!ko||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Bi(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Vt(a),o===null)return;if(u=o.tag,u===5||u===6){n=i=o;continue e}a=a.parentNode}}n=n.return}xc(function(){var c=i,d=ja(r),h=[];e:{var f=Qc.get(t);if(f!==void 0){var v=Ta,y=t;switch(t){case"keypress":if(ys(r)===0)break e;case"keydown":case"keyup":v=Vf;break;case"focusin":y="focus",v=Ii;break;case"focusout":y="blur",v=Ii;break;case"beforeblur":case"afterblur":v=Ii;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Al;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Af;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Gf;break;case Vc:case qc:case Kc:v=$f;break;case Gc:v=Jf;break;case"scroll":v=Of;break;case"wheel":v=Xf;break;case"copy":case"cut":case"paste":v=Uf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Il}var x=(e&4)!==0,_=!x&&t==="scroll",g=x?f!==null?f+"Capture":null:f;x=[];for(var p=c,m;p!==null;){m=p;var w=m.stateNode;if(m.tag===5&&w!==null&&(m=w,g!==null&&(w=wn(p,g),w!=null&&x.push(En(p,w,m)))),_)break;p=p.return}0<x.length&&(f=new v(f,y,null,r,d),h.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&r!==xo&&(y=r.relatedTarget||r.fromElement)&&(Vt(y)||y[lt]))break e;if((v||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,v?(y=r.relatedTarget||r.toElement,v=c,y=y?Vt(y):null,y!==null&&(_=rr(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=c),v!==y)){if(x=Al,w="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(x=Il,w="onPointerLeave",g="onPointerEnter",p="pointer"),_=v==null?f:yr(v),m=y==null?f:yr(y),f=new x(w,p+"leave",v,r,d),f.target=_,f.relatedTarget=m,w=null,Vt(d)===c&&(x=new x(g,p+"enter",y,r,d),x.target=m,x.relatedTarget=_,w=x),_=w,v&&y)t:{for(x=v,g=y,p=0,m=x;m;m=ir(m))p++;for(m=0,w=g;w;w=ir(w))m++;for(;0<p-m;)x=ir(x),p--;for(;0<m-p;)g=ir(g),m--;for(;p--;){if(x===g||g!==null&&x===g.alternate)break t;x=ir(x),g=ir(g)}x=null}else x=null;v!==null&&ql(h,f,v,x,!1),y!==null&&_!==null&&ql(h,_,y,x,!0)}}e:{if(f=c?yr(c):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var b=ip;else if(Ul(f))if(zc)b=up;else{b=ap;var S=op}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(b=lp);if(b&&(b=b(t,c))){Mc(h,b,r,d);break e}S&&S(t,f,c),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&mo(f,"number",f.value)}switch(S=c?yr(c):window,t){case"focusin":(Ul(S)||S.contentEditable==="true")&&(gr=S,No=c,un=null);break;case"focusout":un=No=gr=null;break;case"mousedown":Co=!0;break;case"contextmenu":case"mouseup":case"dragend":Co=!1,Hl(h,r,d);break;case"selectionchange":if(hp)break;case"keydown":case"keyup":Hl(h,r,d)}var E;if(Ra)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else mr?Dc(t,r)&&(k="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&($c&&r.locale!=="ko"&&(mr||k!=="onCompositionStart"?k==="onCompositionEnd"&&mr&&(E=Ic()):(xt=d,Pa="value"in xt?xt.value:xt.textContent,mr=!0)),S=Ls(c,k),0<S.length&&(k=new Ll(k,t,null,r,d),h.push({event:k,listeners:S}),E?k.data=E:(E=Uc(r),E!==null&&(k.data=E)))),(E=ep?tp(t,r):rp(t,r))&&(c=Ls(c,"onBeforeInput"),0<c.length&&(d=new Ll("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=E))}Jc(h,e)})}function En(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ls(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=wn(t,r),i!=null&&n.unshift(En(t,i,s)),i=wn(t,e),i!=null&&n.push(En(t,i,s))),t=t.return}return n}function ir(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ql(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,u=a.alternate,c=a.stateNode;if(u!==null&&u===n)break;a.tag===5&&c!==null&&(a=c,s?(u=wn(r,i),u!=null&&o.unshift(En(r,u,a))):s||(u=wn(r,i),u!=null&&o.push(En(r,u,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var gp=/\r\n?/g,vp=/\u0000|\uFFFD/g;function Kl(t){return(typeof t=="string"?t:""+t).replace(gp,`
`).replace(vp,"")}function rs(t,e,r){if(e=Kl(e),Kl(t)!==e&&r)throw Error(j(425))}function Is(){}var Po=null,To=null;function Oo(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ro=typeof setTimeout=="function"?setTimeout:void 0,yp=typeof clearTimeout=="function"?clearTimeout:void 0,Gl=typeof Promise=="function"?Promise:void 0,wp=typeof queueMicrotask=="function"?queueMicrotask:typeof Gl<"u"?function(t){return Gl.resolve(null).then(t).catch(xp)}:Ro;function xp(t){setTimeout(function(){throw t})}function Hi(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),kn(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);kn(e)}function bt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ql(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Fr=Math.random().toString(36).slice(2),Ye="__reactFiber$"+Fr,Nn="__reactProps$"+Fr,lt="__reactContainer$"+Fr,Ao="__reactEvents$"+Fr,_p="__reactListeners$"+Fr,kp="__reactHandles$"+Fr;function Vt(t){var e=t[Ye];if(e)return e;for(var r=t.parentNode;r;){if(e=r[lt]||r[Ye]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Ql(t);t!==null;){if(r=t[Ye])return r;t=Ql(t)}return e}t=r,r=t.parentNode}return null}function Un(t){return t=t[Ye]||t[lt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function yr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function ii(t){return t[Nn]||null}var Lo=[],wr=-1;function At(t){return{current:t}}function H(t){0>wr||(t.current=Lo[wr],Lo[wr]=null,wr--)}function F(t,e){wr++,Lo[wr]=t.current,t.current=e}var Ot={},fe=At(Ot),ke=At(!1),Jt=Ot;function Rr(t,e){var r=t.type.contextTypes;if(!r)return Ot;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Se(t){return t=t.childContextTypes,t!=null}function $s(){H(ke),H(fe)}function Jl(t,e,r){if(fe.current!==Ot)throw Error(j(168));F(fe,e),F(ke,r)}function Xc(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(j(108,of(t)||"Unknown",s));return G({},r,n)}function Ds(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ot,Jt=fe.current,F(fe,t),F(ke,ke.current),!0}function Yl(t,e,r){var n=t.stateNode;if(!n)throw Error(j(169));r?(t=Xc(t,e,Jt),n.__reactInternalMemoizedMergedChildContext=t,H(ke),H(fe),F(fe,t)):H(ke),F(ke,r)}var nt=null,oi=!1,Wi=!1;function Zc(t){nt===null?nt=[t]:nt.push(t)}function Sp(t){oi=!0,Zc(t)}function Lt(){if(!Wi&&nt!==null){Wi=!0;var t=0,e=M;try{var r=nt;for(M=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}nt=null,oi=!1}catch(s){throw nt!==null&&(nt=nt.slice(t+1)),jc(ba,Lt),s}finally{M=e,Wi=!1}}return null}var xr=[],_r=0,Us=null,Ms=0,Oe=[],Re=0,Yt=null,st=1,it="";function Ft(t,e){xr[_r++]=Ms,xr[_r++]=Us,Us=t,Ms=e}function ed(t,e,r){Oe[Re++]=st,Oe[Re++]=it,Oe[Re++]=Yt,Yt=t;var n=st;t=it;var s=32-We(n)-1;n&=~(1<<s),r+=1;var i=32-We(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,st=1<<32-We(e)+s|r<<s|n,it=i+t}else st=1<<i|r<<s|n,it=t}function La(t){t.return!==null&&(Ft(t,1),ed(t,1,0))}function Ia(t){for(;t===Us;)Us=xr[--_r],xr[_r]=null,Ms=xr[--_r],xr[_r]=null;for(;t===Yt;)Yt=Oe[--Re],Oe[Re]=null,it=Oe[--Re],Oe[Re]=null,st=Oe[--Re],Oe[Re]=null}var Ne=null,Ee=null,W=!1,He=null;function td(t,e){var r=Ae(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Xl(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ne=t,Ee=bt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ne=t,Ee=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Yt!==null?{id:st,overflow:it}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ae(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ne=t,Ee=null,!0):!1;default:return!1}}function Io(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $o(t){if(W){var e=Ee;if(e){var r=e;if(!Xl(t,e)){if(Io(t))throw Error(j(418));e=bt(r.nextSibling);var n=Ne;e&&Xl(t,e)?td(n,r):(t.flags=t.flags&-4097|2,W=!1,Ne=t)}}else{if(Io(t))throw Error(j(418));t.flags=t.flags&-4097|2,W=!1,Ne=t}}}function Zl(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ne=t}function ns(t){if(t!==Ne)return!1;if(!W)return Zl(t),W=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Oo(t.type,t.memoizedProps)),e&&(e=Ee)){if(Io(t))throw rd(),Error(j(418));for(;e;)td(t,e),e=bt(e.nextSibling)}if(Zl(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Ee=bt(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Ee=null}}else Ee=Ne?bt(t.stateNode.nextSibling):null;return!0}function rd(){for(var t=Ee;t;)t=bt(t.nextSibling)}function Ar(){Ee=Ne=null,W=!1}function $a(t){He===null?He=[t]:He.push(t)}var jp=dt.ReactCurrentBatchConfig;function Qr(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(j(309));var n=r.stateNode}if(!n)throw Error(j(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(j(284));if(!r._owner)throw Error(j(290,t))}return t}function ss(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function eu(t){var e=t._init;return e(t._payload)}function nd(t){function e(g,p){if(t){var m=g.deletions;m===null?(g.deletions=[p],g.flags|=16):m.push(p)}}function r(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=Pt(g,p),g.index=0,g.sibling=null,g}function i(g,p,m){return g.index=m,t?(m=g.alternate,m!==null?(m=m.index,m<p?(g.flags|=2,p):m):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,p,m,w){return p===null||p.tag!==6?(p=Yi(m,g.mode,w),p.return=g,p):(p=s(p,m),p.return=g,p)}function u(g,p,m,w){var b=m.type;return b===pr?d(g,p,m.props.children,w,m.key):p!==null&&(p.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===mt&&eu(b)===p.type)?(w=s(p,m.props),w.ref=Qr(g,p,m),w.return=g,w):(w=bs(m.type,m.key,m.props,null,g.mode,w),w.ref=Qr(g,p,m),w.return=g,w)}function c(g,p,m,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=Xi(m,g.mode,w),p.return=g,p):(p=s(p,m.children||[]),p.return=g,p)}function d(g,p,m,w,b){return p===null||p.tag!==7?(p=Qt(m,g.mode,w,b),p.return=g,p):(p=s(p,m),p.return=g,p)}function h(g,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Yi(""+p,g.mode,m),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Kn:return m=bs(p.type,p.key,p.props,null,g.mode,m),m.ref=Qr(g,null,p),m.return=g,m;case fr:return p=Xi(p,g.mode,m),p.return=g,p;case mt:var w=p._init;return h(g,w(p._payload),m)}if(en(p)||Wr(p))return p=Qt(p,g.mode,m,null),p.return=g,p;ss(g,p)}return null}function f(g,p,m,w){var b=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return b!==null?null:a(g,p,""+m,w);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Kn:return m.key===b?u(g,p,m,w):null;case fr:return m.key===b?c(g,p,m,w):null;case mt:return b=m._init,f(g,p,b(m._payload),w)}if(en(m)||Wr(m))return b!==null?null:d(g,p,m,w,null);ss(g,m)}return null}function v(g,p,m,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(m)||null,a(p,g,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Kn:return g=g.get(w.key===null?m:w.key)||null,u(p,g,w,b);case fr:return g=g.get(w.key===null?m:w.key)||null,c(p,g,w,b);case mt:var S=w._init;return v(g,p,m,S(w._payload),b)}if(en(w)||Wr(w))return g=g.get(m)||null,d(p,g,w,b,null);ss(p,w)}return null}function y(g,p,m,w){for(var b=null,S=null,E=p,k=p=0,O=null;E!==null&&k<m.length;k++){E.index>k?(O=E,E=null):O=E.sibling;var T=f(g,E,m[k],w);if(T===null){E===null&&(E=O);break}t&&E&&T.alternate===null&&e(g,E),p=i(T,p,k),S===null?b=T:S.sibling=T,S=T,E=O}if(k===m.length)return r(g,E),W&&Ft(g,k),b;if(E===null){for(;k<m.length;k++)E=h(g,m[k],w),E!==null&&(p=i(E,p,k),S===null?b=E:S.sibling=E,S=E);return W&&Ft(g,k),b}for(E=n(g,E);k<m.length;k++)O=v(E,g,k,m[k],w),O!==null&&(t&&O.alternate!==null&&E.delete(O.key===null?k:O.key),p=i(O,p,k),S===null?b=O:S.sibling=O,S=O);return t&&E.forEach(function(X){return e(g,X)}),W&&Ft(g,k),b}function x(g,p,m,w){var b=Wr(m);if(typeof b!="function")throw Error(j(150));if(m=b.call(m),m==null)throw Error(j(151));for(var S=b=null,E=p,k=p=0,O=null,T=m.next();E!==null&&!T.done;k++,T=m.next()){E.index>k?(O=E,E=null):O=E.sibling;var X=f(g,E,T.value,w);if(X===null){E===null&&(E=O);break}t&&E&&X.alternate===null&&e(g,E),p=i(X,p,k),S===null?b=X:S.sibling=X,S=X,E=O}if(T.done)return r(g,E),W&&Ft(g,k),b;if(E===null){for(;!T.done;k++,T=m.next())T=h(g,T.value,w),T!==null&&(p=i(T,p,k),S===null?b=T:S.sibling=T,S=T);return W&&Ft(g,k),b}for(E=n(g,E);!T.done;k++,T=m.next())T=v(E,g,k,T.value,w),T!==null&&(t&&T.alternate!==null&&E.delete(T.key===null?k:T.key),p=i(T,p,k),S===null?b=T:S.sibling=T,S=T);return t&&E.forEach(function(Ke){return e(g,Ke)}),W&&Ft(g,k),b}function _(g,p,m,w){if(typeof m=="object"&&m!==null&&m.type===pr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Kn:e:{for(var b=m.key,S=p;S!==null;){if(S.key===b){if(b=m.type,b===pr){if(S.tag===7){r(g,S.sibling),p=s(S,m.props.children),p.return=g,g=p;break e}}else if(S.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===mt&&eu(b)===S.type){r(g,S.sibling),p=s(S,m.props),p.ref=Qr(g,S,m),p.return=g,g=p;break e}r(g,S);break}else e(g,S);S=S.sibling}m.type===pr?(p=Qt(m.props.children,g.mode,w,m.key),p.return=g,g=p):(w=bs(m.type,m.key,m.props,null,g.mode,w),w.ref=Qr(g,p,m),w.return=g,g=w)}return o(g);case fr:e:{for(S=m.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){r(g,p.sibling),p=s(p,m.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else e(g,p);p=p.sibling}p=Xi(m,g.mode,w),p.return=g,g=p}return o(g);case mt:return S=m._init,_(g,p,S(m._payload),w)}if(en(m))return y(g,p,m,w);if(Wr(m))return x(g,p,m,w);ss(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(r(g,p.sibling),p=s(p,m),p.return=g,g=p):(r(g,p),p=Yi(m,g.mode,w),p.return=g,g=p),o(g)):r(g,p)}return _}var Lr=nd(!0),sd=nd(!1),zs=At(null),Fs=null,kr=null,Da=null;function Ua(){Da=kr=Fs=null}function Ma(t){var e=zs.current;H(zs),t._currentValue=e}function Do(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Pr(t,e){Fs=t,Da=kr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_e=!0),t.firstContext=null)}function $e(t){var e=t._currentValue;if(Da!==t)if(t={context:t,memoizedValue:e,next:null},kr===null){if(Fs===null)throw Error(j(308));kr=t,Fs.dependencies={lanes:0,firstContext:t}}else kr=kr.next=t;return e}var qt=null;function za(t){qt===null?qt=[t]:qt.push(t)}function id(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,za(e)):(r.next=s.next,s.next=r),e.interleaved=r,ut(t,n)}function ut(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var gt=!1;function Fa(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function od(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ot(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Et(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,D&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,ut(t,r)}return s=n.interleaved,s===null?(e.next=e,za(n)):(e.next=s.next,s.next=e),n.interleaved=e,ut(t,r)}function ws(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ea(t,r)}}function tu(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Bs(t,e,r,n){var s=t.updateQueue;gt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;o=0,d=c=u=null,a=i;do{var f=a.lane,v=a.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,x=a;switch(f=e,v=r,x.tag){case 1:if(y=x.payload,typeof y=="function"){h=y.call(v,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,f=typeof y=="function"?y.call(v,h,f):y,f==null)break e;h=G({},h,f);break e;case 2:gt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else v={eventTime:v,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=v,u=h):d=d.next=v,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Zt|=o,t.lanes=o,t.memoizedState=h}}function ru(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(j(191,s));s.call(n)}}}var Mn={},Ze=At(Mn),Cn=At(Mn),Pn=At(Mn);function Kt(t){if(t===Mn)throw Error(j(174));return t}function Ba(t,e){switch(F(Pn,e),F(Cn,t),F(Ze,Mn),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vo(e,t)}H(Ze),F(Ze,e)}function Ir(){H(Ze),H(Cn),H(Pn)}function ad(t){Kt(Pn.current);var e=Kt(Ze.current),r=vo(e,t.type);e!==r&&(F(Cn,t),F(Ze,r))}function Ha(t){Cn.current===t&&(H(Ze),H(Cn))}var V=At(0);function Hs(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Vi=[];function Wa(){for(var t=0;t<Vi.length;t++)Vi[t]._workInProgressVersionPrimary=null;Vi.length=0}var xs=dt.ReactCurrentDispatcher,qi=dt.ReactCurrentBatchConfig,Xt=0,K=null,re=null,ie=null,Ws=!1,cn=!1,Tn=0,bp=0;function ce(){throw Error(j(321))}function Va(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!qe(t[r],e[r]))return!1;return!0}function qa(t,e,r,n,s,i){if(Xt=i,K=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xs.current=t===null||t.memoizedState===null?Pp:Tp,t=r(n,s),cn){i=0;do{if(cn=!1,Tn=0,25<=i)throw Error(j(301));i+=1,ie=re=null,e.updateQueue=null,xs.current=Op,t=r(n,s)}while(cn)}if(xs.current=Vs,e=re!==null&&re.next!==null,Xt=0,ie=re=K=null,Ws=!1,e)throw Error(j(300));return t}function Ka(){var t=Tn!==0;return Tn=0,t}function Qe(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ie===null?K.memoizedState=ie=t:ie=ie.next=t,ie}function De(){if(re===null){var t=K.alternate;t=t!==null?t.memoizedState:null}else t=re.next;var e=ie===null?K.memoizedState:ie.next;if(e!==null)ie=e,re=t;else{if(t===null)throw Error(j(310));re=t,t={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},ie===null?K.memoizedState=ie=t:ie=ie.next=t}return ie}function On(t,e){return typeof e=="function"?e(t):e}function Ki(t){var e=De(),r=e.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=t;var n=re,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,u=null,c=i;do{var d=c.lane;if((Xt&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=h,o=n):u=u.next=h,K.lanes|=d,Zt|=d}c=c.next}while(c!==null&&c!==i);u===null?o=n:u.next=a,qe(n,e.memoizedState)||(_e=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,K.lanes|=i,Zt|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Gi(t){var e=De(),r=e.queue;if(r===null)throw Error(j(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);qe(i,e.memoizedState)||(_e=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function ld(){}function ud(t,e){var r=K,n=De(),s=e(),i=!qe(n.memoizedState,s);if(i&&(n.memoizedState=s,_e=!0),n=n.queue,Ga(hd.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||ie!==null&&ie.memoizedState.tag&1){if(r.flags|=2048,Rn(9,dd.bind(null,r,n,s,e),void 0,null),oe===null)throw Error(j(349));Xt&30||cd(r,e,s)}return s}function cd(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=K.updateQueue,e===null?(e={lastEffect:null,stores:null},K.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function dd(t,e,r,n){e.value=r,e.getSnapshot=n,fd(e)&&pd(t)}function hd(t,e,r){return r(function(){fd(e)&&pd(t)})}function fd(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!qe(t,r)}catch{return!0}}function pd(t){var e=ut(t,1);e!==null&&Ve(e,t,1,-1)}function nu(t){var e=Qe();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:t},e.queue=t,t=t.dispatch=Cp.bind(null,K,t),[e.memoizedState,t]}function Rn(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=K.updateQueue,e===null?(e={lastEffect:null,stores:null},K.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function md(){return De().memoizedState}function _s(t,e,r,n){var s=Qe();K.flags|=t,s.memoizedState=Rn(1|e,r,void 0,n===void 0?null:n)}function ai(t,e,r,n){var s=De();n=n===void 0?null:n;var i=void 0;if(re!==null){var o=re.memoizedState;if(i=o.destroy,n!==null&&Va(n,o.deps)){s.memoizedState=Rn(e,r,i,n);return}}K.flags|=t,s.memoizedState=Rn(1|e,r,i,n)}function su(t,e){return _s(8390656,8,t,e)}function Ga(t,e){return ai(2048,8,t,e)}function gd(t,e){return ai(4,2,t,e)}function vd(t,e){return ai(4,4,t,e)}function yd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function wd(t,e,r){return r=r!=null?r.concat([t]):null,ai(4,4,yd.bind(null,e,t),r)}function Qa(){}function xd(t,e){var r=De();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Va(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function _d(t,e){var r=De();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Va(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function kd(t,e,r){return Xt&21?(qe(r,e)||(r=Nc(),K.lanes|=r,Zt|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_e=!0),t.memoizedState=r)}function Ep(t,e){var r=M;M=r!==0&&4>r?r:4,t(!0);var n=qi.transition;qi.transition={};try{t(!1),e()}finally{M=r,qi.transition=n}}function Sd(){return De().memoizedState}function Np(t,e,r){var n=Ct(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},jd(t))bd(e,r);else if(r=id(t,e,r,n),r!==null){var s=ge();Ve(r,t,n,s),Ed(r,e,n)}}function Cp(t,e,r){var n=Ct(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(jd(t))bd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,qe(a,o)){var u=e.interleaved;u===null?(s.next=s,za(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}r=id(t,e,s,n),r!==null&&(s=ge(),Ve(r,t,n,s),Ed(r,e,n))}}function jd(t){var e=t.alternate;return t===K||e!==null&&e===K}function bd(t,e){cn=Ws=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Ed(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Ea(t,r)}}var Vs={readContext:$e,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useInsertionEffect:ce,useLayoutEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useMutableSource:ce,useSyncExternalStore:ce,useId:ce,unstable_isNewReconciler:!1},Pp={readContext:$e,useCallback:function(t,e){return Qe().memoizedState=[t,e===void 0?null:e],t},useContext:$e,useEffect:su,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,_s(4194308,4,yd.bind(null,e,t),r)},useLayoutEffect:function(t,e){return _s(4194308,4,t,e)},useInsertionEffect:function(t,e){return _s(4,2,t,e)},useMemo:function(t,e){var r=Qe();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Qe();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Np.bind(null,K,t),[n.memoizedState,t]},useRef:function(t){var e=Qe();return t={current:t},e.memoizedState=t},useState:nu,useDebugValue:Qa,useDeferredValue:function(t){return Qe().memoizedState=t},useTransition:function(){var t=nu(!1),e=t[0];return t=Ep.bind(null,t[1]),Qe().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=K,s=Qe();if(W){if(r===void 0)throw Error(j(407));r=r()}else{if(r=e(),oe===null)throw Error(j(349));Xt&30||cd(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,su(hd.bind(null,n,i,t),[t]),n.flags|=2048,Rn(9,dd.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Qe(),e=oe.identifierPrefix;if(W){var r=it,n=st;r=(n&~(1<<32-We(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Tn++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=bp++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Tp={readContext:$e,useCallback:xd,useContext:$e,useEffect:Ga,useImperativeHandle:wd,useInsertionEffect:gd,useLayoutEffect:vd,useMemo:_d,useReducer:Ki,useRef:md,useState:function(){return Ki(On)},useDebugValue:Qa,useDeferredValue:function(t){var e=De();return kd(e,re.memoizedState,t)},useTransition:function(){var t=Ki(On)[0],e=De().memoizedState;return[t,e]},useMutableSource:ld,useSyncExternalStore:ud,useId:Sd,unstable_isNewReconciler:!1},Op={readContext:$e,useCallback:xd,useContext:$e,useEffect:Ga,useImperativeHandle:wd,useInsertionEffect:gd,useLayoutEffect:vd,useMemo:_d,useReducer:Gi,useRef:md,useState:function(){return Gi(On)},useDebugValue:Qa,useDeferredValue:function(t){var e=De();return re===null?e.memoizedState=t:kd(e,re.memoizedState,t)},useTransition:function(){var t=Gi(On)[0],e=De().memoizedState;return[t,e]},useMutableSource:ld,useSyncExternalStore:ud,useId:Sd,unstable_isNewReconciler:!1};function ze(t,e){if(t&&t.defaultProps){e=G({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Uo(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:G({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var li={isMounted:function(t){return(t=t._reactInternals)?rr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ge(),s=Ct(t),i=ot(n,s);i.payload=e,r!=null&&(i.callback=r),e=Et(t,i,s),e!==null&&(Ve(e,t,s,n),ws(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ge(),s=Ct(t),i=ot(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Et(t,i,s),e!==null&&(Ve(e,t,s,n),ws(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ge(),n=Ct(t),s=ot(r,n);s.tag=2,e!=null&&(s.callback=e),e=Et(t,s,n),e!==null&&(Ve(e,t,n,r),ws(e,t,n))}};function iu(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!jn(r,n)||!jn(s,i):!0}function Nd(t,e,r){var n=!1,s=Ot,i=e.contextType;return typeof i=="object"&&i!==null?i=$e(i):(s=Se(e)?Jt:fe.current,n=e.contextTypes,i=(n=n!=null)?Rr(t,s):Ot),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=li,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function ou(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&li.enqueueReplaceState(e,e.state,null)}function Mo(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Fa(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=$e(i):(i=Se(e)?Jt:fe.current,s.context=Rr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Uo(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&li.enqueueReplaceState(s,s.state,null),Bs(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function $r(t,e){try{var r="",n=e;do r+=sf(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Qi(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function zo(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Rp=typeof WeakMap=="function"?WeakMap:Map;function Cd(t,e,r){r=ot(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ks||(Ks=!0,Jo=n),zo(t,e)},r}function Pd(t,e,r){r=ot(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){zo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){zo(t,e),typeof n!="function"&&(Nt===null?Nt=new Set([this]):Nt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function au(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Rp;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=qp.bind(null,t,e,r),e.then(t,t))}function lu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function uu(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ot(-1,1),e.tag=2,Et(r,e,1))),r.lanes|=1),t)}var Ap=dt.ReactCurrentOwner,_e=!1;function me(t,e,r,n){e.child=t===null?sd(e,null,r,n):Lr(e,t.child,r,n)}function cu(t,e,r,n,s){r=r.render;var i=e.ref;return Pr(e,s),n=qa(t,e,r,n,i,s),r=Ka(),t!==null&&!_e?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ct(t,e,s)):(W&&r&&La(e),e.flags|=1,me(t,e,n,s),e.child)}function du(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!nl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Td(t,e,i,n,s)):(t=bs(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:jn,r(o,n)&&t.ref===e.ref)return ct(t,e,s)}return e.flags|=1,t=Pt(i,n),t.ref=e.ref,t.return=e,e.child=t}function Td(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(jn(i,n)&&t.ref===e.ref)if(_e=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(_e=!0);else return e.lanes=t.lanes,ct(t,e,s)}return Fo(t,e,r,n,s)}function Od(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},F(jr,be),be|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,F(jr,be),be|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,F(jr,be),be|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,F(jr,be),be|=n;return me(t,e,s,r),e.child}function Rd(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Fo(t,e,r,n,s){var i=Se(r)?Jt:fe.current;return i=Rr(e,i),Pr(e,s),r=qa(t,e,r,n,i,s),n=Ka(),t!==null&&!_e?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ct(t,e,s)):(W&&n&&La(e),e.flags|=1,me(t,e,r,s),e.child)}function hu(t,e,r,n,s){if(Se(r)){var i=!0;Ds(e)}else i=!1;if(Pr(e,s),e.stateNode===null)ks(t,e),Nd(e,r,n),Mo(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=$e(c):(c=Se(r)?Jt:fe.current,c=Rr(e,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||u!==c)&&ou(e,o,n,c),gt=!1;var f=e.memoizedState;o.state=f,Bs(e,n,o,s),u=e.memoizedState,a!==n||f!==u||ke.current||gt?(typeof d=="function"&&(Uo(e,r,d,n),u=e.memoizedState),(a=gt||iu(e,r,a,n,f,u,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),o.props=n,o.state=u,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,od(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ze(e.type,a),o.props=c,h=e.pendingProps,f=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=$e(u):(u=Se(r)?Jt:fe.current,u=Rr(e,u));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==u)&&ou(e,o,n,u),gt=!1,f=e.memoizedState,o.state=f,Bs(e,n,o,s);var y=e.memoizedState;a!==h||f!==y||ke.current||gt?(typeof v=="function"&&(Uo(e,r,v,n),y=e.memoizedState),(c=gt||iu(e,r,c,n,f,y,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),o.props=n,o.state=y,o.context=u,n=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Bo(t,e,r,n,i,s)}function Bo(t,e,r,n,s,i){Rd(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Yl(e,r,!1),ct(t,e,i);n=e.stateNode,Ap.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Lr(e,t.child,null,i),e.child=Lr(e,null,a,i)):me(t,e,a,i),e.memoizedState=n.state,s&&Yl(e,r,!0),e.child}function Ad(t){var e=t.stateNode;e.pendingContext?Jl(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Jl(t,e.context,!1),Ba(t,e.containerInfo)}function fu(t,e,r,n,s){return Ar(),$a(s),e.flags|=256,me(t,e,r,n),e.child}var Ho={dehydrated:null,treeContext:null,retryLane:0};function Wo(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ld(t,e,r){var n=e.pendingProps,s=V.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),F(V,s&1),t===null)return $o(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=di(o,n,0,null),t=Qt(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Wo(r),e.memoizedState=Ho,t):Ja(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Lp(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=Pt(s,u),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Pt(a,i):(i=Qt(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?Wo(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Ho,n}return i=t.child,t=i.sibling,n=Pt(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Ja(t,e){return e=di({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function is(t,e,r,n){return n!==null&&$a(n),Lr(e,t.child,null,r),t=Ja(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Lp(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Qi(Error(j(422))),is(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=di({mode:"visible",children:n.children},s,0,null),i=Qt(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&Lr(e,t.child,null,o),e.child.memoizedState=Wo(o),e.memoizedState=Ho,i);if(!(e.mode&1))return is(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(j(419)),n=Qi(i,n,void 0),is(t,e,o,n)}if(a=(o&t.childLanes)!==0,_e||a){if(n=oe,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ut(t,s),Ve(n,t,s,-1))}return rl(),n=Qi(Error(j(421))),is(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Kp.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ee=bt(s.nextSibling),Ne=e,W=!0,He=null,t!==null&&(Oe[Re++]=st,Oe[Re++]=it,Oe[Re++]=Yt,st=t.id,it=t.overflow,Yt=e),e=Ja(e,n.children),e.flags|=4096,e)}function pu(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Do(t.return,e,r)}function Ji(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Id(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(me(t,e,n.children,r),n=V.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pu(t,r,e);else if(t.tag===19)pu(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(F(V,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Hs(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Ji(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Hs(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Ji(e,!0,r,null,i);break;case"together":Ji(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ks(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ct(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Zt|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,r=Pt(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Pt(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Ip(t,e,r){switch(e.tag){case 3:Ad(e),Ar();break;case 5:ad(e);break;case 1:Se(e.type)&&Ds(e);break;case 4:Ba(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;F(zs,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(F(V,V.current&1),e.flags|=128,null):r&e.child.childLanes?Ld(t,e,r):(F(V,V.current&1),t=ct(t,e,r),t!==null?t.sibling:null);F(V,V.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Id(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),F(V,V.current),n)break;return null;case 22:case 23:return e.lanes=0,Od(t,e,r)}return ct(t,e,r)}var $d,Vo,Dd,Ud;$d=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Vo=function(){};Dd=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Kt(Ze.current);var i=null;switch(r){case"input":s=fo(t,s),n=fo(t,n),i=[];break;case"select":s=G({},s,{value:void 0}),n=G({},n,{value:void 0}),i=[];break;case"textarea":s=go(t,s),n=go(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Is)}yo(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(vn.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var u=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(i||(i=[]),i.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(vn.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&B("scroll",t),i||a===u||(i=[])):(i=i||[]).push(c,u))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Ud=function(t,e,r,n){r!==n&&(e.flags|=4)};function Jr(t,e){if(!W)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function de(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function $p(t,e,r){var n=e.pendingProps;switch(Ia(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(e),null;case 1:return Se(e.type)&&$s(),de(e),null;case 3:return n=e.stateNode,Ir(),H(ke),H(fe),Wa(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ns(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,He!==null&&(Zo(He),He=null))),Vo(t,e),de(e),null;case 5:Ha(e);var s=Kt(Pn.current);if(r=e.type,t!==null&&e.stateNode!=null)Dd(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(j(166));return de(e),null}if(t=Kt(Ze.current),ns(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[Ye]=e,n[Nn]=i,t=(e.mode&1)!==0,r){case"dialog":B("cancel",n),B("close",n);break;case"iframe":case"object":case"embed":B("load",n);break;case"video":case"audio":for(s=0;s<rn.length;s++)B(rn[s],n);break;case"source":B("error",n);break;case"img":case"image":case"link":B("error",n),B("load",n);break;case"details":B("toggle",n);break;case"input":Sl(n,i),B("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},B("invalid",n);break;case"textarea":bl(n,i),B("invalid",n)}yo(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&rs(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&rs(n.textContent,a,t),s=["children",""+a]):vn.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&B("scroll",n)}switch(r){case"input":Gn(n),jl(n,i,!0);break;case"textarea":Gn(n),El(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Is)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=hc(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Ye]=e,t[Nn]=n,$d(t,e,!1,!1),e.stateNode=t;e:{switch(o=wo(r,n),r){case"dialog":B("cancel",t),B("close",t),s=n;break;case"iframe":case"object":case"embed":B("load",t),s=n;break;case"video":case"audio":for(s=0;s<rn.length;s++)B(rn[s],t);s=n;break;case"source":B("error",t),s=n;break;case"img":case"image":case"link":B("error",t),B("load",t),s=n;break;case"details":B("toggle",t),s=n;break;case"input":Sl(t,n),s=fo(t,n),B("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=G({},n,{value:void 0}),B("invalid",t);break;case"textarea":bl(t,n),s=go(t,n),B("invalid",t);break;default:s=n}yo(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?mc(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&fc(t,u)):i==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&yn(t,u):typeof u=="number"&&yn(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(vn.hasOwnProperty(i)?u!=null&&i==="onScroll"&&B("scroll",t):u!=null&&xa(t,i,u,o))}switch(r){case"input":Gn(t),jl(t,n,!1);break;case"textarea":Gn(t),El(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Tt(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?br(t,!!n.multiple,i,!1):n.defaultValue!=null&&br(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Is)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return de(e),null;case 6:if(t&&e.stateNode!=null)Ud(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(j(166));if(r=Kt(Pn.current),Kt(Ze.current),ns(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ye]=e,(i=n.nodeValue!==r)&&(t=Ne,t!==null))switch(t.tag){case 3:rs(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&rs(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ye]=e,e.stateNode=n}return de(e),null;case 13:if(H(V),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(W&&Ee!==null&&e.mode&1&&!(e.flags&128))rd(),Ar(),e.flags|=98560,i=!1;else if(i=ns(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(j(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(j(317));i[Ye]=e}else Ar(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;de(e),i=!1}else He!==null&&(Zo(He),He=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||V.current&1?ne===0&&(ne=3):rl())),e.updateQueue!==null&&(e.flags|=4),de(e),null);case 4:return Ir(),Vo(t,e),t===null&&bn(e.stateNode.containerInfo),de(e),null;case 10:return Ma(e.type._context),de(e),null;case 17:return Se(e.type)&&$s(),de(e),null;case 19:if(H(V),i=e.memoizedState,i===null)return de(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Jr(i,!1);else{if(ne!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Hs(t),o!==null){for(e.flags|=128,Jr(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return F(V,V.current&1|2),e.child}t=t.sibling}i.tail!==null&&Y()>Dr&&(e.flags|=128,n=!0,Jr(i,!1),e.lanes=4194304)}else{if(!n)if(t=Hs(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Jr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!W)return de(e),null}else 2*Y()-i.renderingStartTime>Dr&&r!==1073741824&&(e.flags|=128,n=!0,Jr(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Y(),e.sibling=null,r=V.current,F(V,n?r&1|2:r&1),e):(de(e),null);case 22:case 23:return tl(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?be&1073741824&&(de(e),e.subtreeFlags&6&&(e.flags|=8192)):de(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function Dp(t,e){switch(Ia(e),e.tag){case 1:return Se(e.type)&&$s(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ir(),H(ke),H(fe),Wa(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ha(e),null;case 13:if(H(V),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));Ar()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return H(V),null;case 4:return Ir(),null;case 10:return Ma(e.type._context),null;case 22:case 23:return tl(),null;case 24:return null;default:return null}}var os=!1,he=!1,Up=typeof WeakSet=="function"?WeakSet:Set,N=null;function Sr(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Q(t,e,n)}else r.current=null}function qo(t,e,r){try{r()}catch(n){Q(t,e,n)}}var mu=!1;function Mp(t,e){if(Po=Rs,t=Hc(),Aa(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,u=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var v;h!==r||s!==0&&h.nodeType!==3||(a=o+s),h!==i||n!==0&&h.nodeType!==3||(u=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===t)break t;if(f===r&&++c===s&&(a=o),f===i&&++d===n&&(u=o),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}r=a===-1||u===-1?null:{start:a,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(To={focusedElem:t,selectionRange:r},Rs=!1,N=e;N!==null;)if(e=N,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,N=t;else for(;N!==null;){e=N;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,_=y.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:ze(e.type,x),_);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(w){Q(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,N=t;break}N=e.return}return y=mu,mu=!1,y}function dn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&qo(e,r,i)}s=s.next}while(s!==n)}}function ui(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Ko(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Md(t){var e=t.alternate;e!==null&&(t.alternate=null,Md(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ye],delete e[Nn],delete e[Ao],delete e[_p],delete e[kp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function zd(t){return t.tag===5||t.tag===3||t.tag===4}function gu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Go(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Is));else if(n!==4&&(t=t.child,t!==null))for(Go(t,e,r),t=t.sibling;t!==null;)Go(t,e,r),t=t.sibling}function Qo(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Qo(t,e,r),t=t.sibling;t!==null;)Qo(t,e,r),t=t.sibling}var ae=null,Fe=!1;function ht(t,e,r){for(r=r.child;r!==null;)Fd(t,e,r),r=r.sibling}function Fd(t,e,r){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(ti,r)}catch{}switch(r.tag){case 5:he||Sr(r,e);case 6:var n=ae,s=Fe;ae=null,ht(t,e,r),ae=n,Fe=s,ae!==null&&(Fe?(t=ae,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ae.removeChild(r.stateNode));break;case 18:ae!==null&&(Fe?(t=ae,r=r.stateNode,t.nodeType===8?Hi(t.parentNode,r):t.nodeType===1&&Hi(t,r),kn(t)):Hi(ae,r.stateNode));break;case 4:n=ae,s=Fe,ae=r.stateNode.containerInfo,Fe=!0,ht(t,e,r),ae=n,Fe=s;break;case 0:case 11:case 14:case 15:if(!he&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&qo(r,e,o),s=s.next}while(s!==n)}ht(t,e,r);break;case 1:if(!he&&(Sr(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Q(r,e,a)}ht(t,e,r);break;case 21:ht(t,e,r);break;case 22:r.mode&1?(he=(n=he)||r.memoizedState!==null,ht(t,e,r),he=n):ht(t,e,r);break;default:ht(t,e,r)}}function vu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Up),e.forEach(function(n){var s=Gp.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ue(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ae=a.stateNode,Fe=!1;break e;case 3:ae=a.stateNode.containerInfo,Fe=!0;break e;case 4:ae=a.stateNode.containerInfo,Fe=!0;break e}a=a.return}if(ae===null)throw Error(j(160));Fd(i,o,s),ae=null,Fe=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){Q(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Bd(e,t),e=e.sibling}function Bd(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ue(e,t),Ge(t),n&4){try{dn(3,t,t.return),ui(3,t)}catch(x){Q(t,t.return,x)}try{dn(5,t,t.return)}catch(x){Q(t,t.return,x)}}break;case 1:Ue(e,t),Ge(t),n&512&&r!==null&&Sr(r,r.return);break;case 5:if(Ue(e,t),Ge(t),n&512&&r!==null&&Sr(r,r.return),t.flags&32){var s=t.stateNode;try{yn(s,"")}catch(x){Q(t,t.return,x)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&cc(s,i),wo(a,o);var c=wo(a,i);for(o=0;o<u.length;o+=2){var d=u[o],h=u[o+1];d==="style"?mc(s,h):d==="dangerouslySetInnerHTML"?fc(s,h):d==="children"?yn(s,h):xa(s,d,h,c)}switch(a){case"input":po(s,i);break;case"textarea":dc(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?br(s,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?br(s,!!i.multiple,i.defaultValue,!0):br(s,!!i.multiple,i.multiple?[]:"",!1))}s[Nn]=i}catch(x){Q(t,t.return,x)}}break;case 6:if(Ue(e,t),Ge(t),n&4){if(t.stateNode===null)throw Error(j(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){Q(t,t.return,x)}}break;case 3:if(Ue(e,t),Ge(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{kn(e.containerInfo)}catch(x){Q(t,t.return,x)}break;case 4:Ue(e,t),Ge(t);break;case 13:Ue(e,t),Ge(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Za=Y())),n&4&&vu(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(he=(c=he)||d,Ue(e,t),he=c):Ue(e,t),Ge(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(N=t,d=t.child;d!==null;){for(h=N=d;N!==null;){switch(f=N,v=f.child,f.tag){case 0:case 11:case 14:case 15:dn(4,f,f.return);break;case 1:Sr(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){Q(n,r,x)}}break;case 5:Sr(f,f.return);break;case 22:if(f.memoizedState!==null){wu(h);continue}}v!==null?(v.return=f,N=v):wu(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=pc("display",o))}catch(x){Q(t,t.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(x){Q(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ue(e,t),Ge(t),n&4&&vu(t);break;case 21:break;default:Ue(e,t),Ge(t)}}function Ge(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(zd(r)){var n=r;break e}r=r.return}throw Error(j(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(yn(s,""),n.flags&=-33);var i=gu(t);Qo(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=gu(t);Go(t,a,o);break;default:throw Error(j(161))}}catch(u){Q(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zp(t,e,r){N=t,Hd(t)}function Hd(t,e,r){for(var n=(t.mode&1)!==0;N!==null;){var s=N,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||os;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||he;a=os;var c=he;if(os=o,(he=u)&&!c)for(N=s;N!==null;)o=N,u=o.child,o.tag===22&&o.memoizedState!==null?xu(s):u!==null?(u.return=o,N=u):xu(s);for(;i!==null;)N=i,Hd(i),i=i.sibling;N=s,os=a,he=c}yu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,N=i):yu(t)}}function yu(t){for(;N!==null;){var e=N;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:he||ui(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!he)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:ze(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ru(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}ru(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&kn(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}he||e.flags&512&&Ko(e)}catch(f){Q(e,e.return,f)}}if(e===t){N=null;break}if(r=e.sibling,r!==null){r.return=e.return,N=r;break}N=e.return}}function wu(t){for(;N!==null;){var e=N;if(e===t){N=null;break}var r=e.sibling;if(r!==null){r.return=e.return,N=r;break}N=e.return}}function xu(t){for(;N!==null;){var e=N;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{ui(4,e)}catch(u){Q(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(u){Q(e,s,u)}}var i=e.return;try{Ko(e)}catch(u){Q(e,i,u)}break;case 5:var o=e.return;try{Ko(e)}catch(u){Q(e,o,u)}}}catch(u){Q(e,e.return,u)}if(e===t){N=null;break}var a=e.sibling;if(a!==null){a.return=e.return,N=a;break}N=e.return}}var Fp=Math.ceil,qs=dt.ReactCurrentDispatcher,Ya=dt.ReactCurrentOwner,Le=dt.ReactCurrentBatchConfig,D=0,oe=null,Z=null,le=0,be=0,jr=At(0),ne=0,An=null,Zt=0,ci=0,Xa=0,hn=null,we=null,Za=0,Dr=1/0,tt=null,Ks=!1,Jo=null,Nt=null,as=!1,_t=null,Gs=0,fn=0,Yo=null,Ss=-1,js=0;function ge(){return D&6?Y():Ss!==-1?Ss:Ss=Y()}function Ct(t){return t.mode&1?D&2&&le!==0?le&-le:jp.transition!==null?(js===0&&(js=Nc()),js):(t=M,t!==0||(t=window.event,t=t===void 0?16:Lc(t.type)),t):1}function Ve(t,e,r,n){if(50<fn)throw fn=0,Yo=null,Error(j(185));$n(t,r,n),(!(D&2)||t!==oe)&&(t===oe&&(!(D&2)&&(ci|=r),ne===4&&yt(t,le)),je(t,n),r===1&&D===0&&!(e.mode&1)&&(Dr=Y()+500,oi&&Lt()))}function je(t,e){var r=t.callbackNode;jf(t,e);var n=Os(t,t===oe?le:0);if(n===0)r!==null&&Pl(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Pl(r),e===1)t.tag===0?Sp(_u.bind(null,t)):Zc(_u.bind(null,t)),wp(function(){!(D&6)&&Lt()}),r=null;else{switch(Cc(n)){case 1:r=ba;break;case 4:r=bc;break;case 16:r=Ts;break;case 536870912:r=Ec;break;default:r=Ts}r=Yd(r,Wd.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Wd(t,e){if(Ss=-1,js=0,D&6)throw Error(j(327));var r=t.callbackNode;if(Tr()&&t.callbackNode!==r)return null;var n=Os(t,t===oe?le:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Qs(t,n);else{e=n;var s=D;D|=2;var i=qd();(oe!==t||le!==e)&&(tt=null,Dr=Y()+500,Gt(t,e));do try{Wp();break}catch(a){Vd(t,a)}while(!0);Ua(),qs.current=i,D=s,Z!==null?e=0:(oe=null,le=0,e=ne)}if(e!==0){if(e===2&&(s=jo(t),s!==0&&(n=s,e=Xo(t,s))),e===1)throw r=An,Gt(t,0),yt(t,n),je(t,Y()),r;if(e===6)yt(t,n);else{if(s=t.current.alternate,!(n&30)&&!Bp(s)&&(e=Qs(t,n),e===2&&(i=jo(t),i!==0&&(n=i,e=Xo(t,i))),e===1))throw r=An,Gt(t,0),yt(t,n),je(t,Y()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(j(345));case 2:Bt(t,we,tt);break;case 3:if(yt(t,n),(n&130023424)===n&&(e=Za+500-Y(),10<e)){if(Os(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){ge(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ro(Bt.bind(null,t,we,tt),e);break}Bt(t,we,tt);break;case 4:if(yt(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-We(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=Y()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Fp(n/1960))-n,10<n){t.timeoutHandle=Ro(Bt.bind(null,t,we,tt),n);break}Bt(t,we,tt);break;case 5:Bt(t,we,tt);break;default:throw Error(j(329))}}}return je(t,Y()),t.callbackNode===r?Wd.bind(null,t):null}function Xo(t,e){var r=hn;return t.current.memoizedState.isDehydrated&&(Gt(t,e).flags|=256),t=Qs(t,e),t!==2&&(e=we,we=r,e!==null&&Zo(e)),t}function Zo(t){we===null?we=t:we.push.apply(we,t)}function Bp(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!qe(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function yt(t,e){for(e&=~Xa,e&=~ci,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-We(e),n=1<<r;t[r]=-1,e&=~n}}function _u(t){if(D&6)throw Error(j(327));Tr();var e=Os(t,0);if(!(e&1))return je(t,Y()),null;var r=Qs(t,e);if(t.tag!==0&&r===2){var n=jo(t);n!==0&&(e=n,r=Xo(t,n))}if(r===1)throw r=An,Gt(t,0),yt(t,e),je(t,Y()),r;if(r===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Bt(t,we,tt),je(t,Y()),null}function el(t,e){var r=D;D|=1;try{return t(e)}finally{D=r,D===0&&(Dr=Y()+500,oi&&Lt())}}function er(t){_t!==null&&_t.tag===0&&!(D&6)&&Tr();var e=D;D|=1;var r=Le.transition,n=M;try{if(Le.transition=null,M=1,t)return t()}finally{M=n,Le.transition=r,D=e,!(D&6)&&Lt()}}function tl(){be=jr.current,H(jr)}function Gt(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,yp(r)),Z!==null)for(r=Z.return;r!==null;){var n=r;switch(Ia(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&$s();break;case 3:Ir(),H(ke),H(fe),Wa();break;case 5:Ha(n);break;case 4:Ir();break;case 13:H(V);break;case 19:H(V);break;case 10:Ma(n.type._context);break;case 22:case 23:tl()}r=r.return}if(oe=t,Z=t=Pt(t.current,null),le=be=e,ne=0,An=null,Xa=ci=Zt=0,we=hn=null,qt!==null){for(e=0;e<qt.length;e++)if(r=qt[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}qt=null}return t}function Vd(t,e){do{var r=Z;try{if(Ua(),xs.current=Vs,Ws){for(var n=K.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ws=!1}if(Xt=0,ie=re=K=null,cn=!1,Tn=0,Ya.current=null,r===null||r.return===null){ne=1,An=e,Z=null;break}e:{var i=t,o=r.return,a=r,u=e;if(e=le,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=lu(o);if(v!==null){v.flags&=-257,uu(v,o,a,i,e),v.mode&1&&au(i,c,e),e=v,u=c;var y=e.updateQueue;if(y===null){var x=new Set;x.add(u),e.updateQueue=x}else y.add(u);break e}else{if(!(e&1)){au(i,c,e),rl();break e}u=Error(j(426))}}else if(W&&a.mode&1){var _=lu(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),uu(_,o,a,i,e),$a($r(u,a));break e}}i=u=$r(u,a),ne!==4&&(ne=2),hn===null?hn=[i]:hn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Cd(i,u,e);tu(i,g);break e;case 1:a=u;var p=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Nt===null||!Nt.has(m)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=Pd(i,a,e);tu(i,w);break e}}i=i.return}while(i!==null)}Gd(r)}catch(b){e=b,Z===r&&r!==null&&(Z=r=r.return);continue}break}while(!0)}function qd(){var t=qs.current;return qs.current=Vs,t===null?Vs:t}function rl(){(ne===0||ne===3||ne===2)&&(ne=4),oe===null||!(Zt&268435455)&&!(ci&268435455)||yt(oe,le)}function Qs(t,e){var r=D;D|=2;var n=qd();(oe!==t||le!==e)&&(tt=null,Gt(t,e));do try{Hp();break}catch(s){Vd(t,s)}while(!0);if(Ua(),D=r,qs.current=n,Z!==null)throw Error(j(261));return oe=null,le=0,ne}function Hp(){for(;Z!==null;)Kd(Z)}function Wp(){for(;Z!==null&&!mf();)Kd(Z)}function Kd(t){var e=Jd(t.alternate,t,be);t.memoizedProps=t.pendingProps,e===null?Gd(t):Z=e,Ya.current=null}function Gd(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Dp(r,e),r!==null){r.flags&=32767,Z=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ne=6,Z=null;return}}else if(r=$p(r,e,be),r!==null){Z=r;return}if(e=e.sibling,e!==null){Z=e;return}Z=e=t}while(e!==null);ne===0&&(ne=5)}function Bt(t,e,r){var n=M,s=Le.transition;try{Le.transition=null,M=1,Vp(t,e,r,n)}finally{Le.transition=s,M=n}return null}function Vp(t,e,r,n){do Tr();while(_t!==null);if(D&6)throw Error(j(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(bf(t,i),t===oe&&(Z=oe=null,le=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||as||(as=!0,Yd(Ts,function(){return Tr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Le.transition,Le.transition=null;var o=M;M=1;var a=D;D|=4,Ya.current=null,Mp(t,r),Bd(r,t),dp(To),Rs=!!Po,To=Po=null,t.current=r,zp(r),gf(),D=a,M=o,Le.transition=i}else t.current=r;if(as&&(as=!1,_t=t,Gs=s),i=t.pendingLanes,i===0&&(Nt=null),wf(r.stateNode),je(t,Y()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ks)throw Ks=!1,t=Jo,Jo=null,t;return Gs&1&&t.tag!==0&&Tr(),i=t.pendingLanes,i&1?t===Yo?fn++:(fn=0,Yo=t):fn=0,Lt(),null}function Tr(){if(_t!==null){var t=Cc(Gs),e=Le.transition,r=M;try{if(Le.transition=null,M=16>t?16:t,_t===null)var n=!1;else{if(t=_t,_t=null,Gs=0,D&6)throw Error(j(331));var s=D;for(D|=4,N=t.current;N!==null;){var i=N,o=i.child;if(N.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(N=c;N!==null;){var d=N;switch(d.tag){case 0:case 11:case 15:dn(8,d,i)}var h=d.child;if(h!==null)h.return=d,N=h;else for(;N!==null;){d=N;var f=d.sibling,v=d.return;if(Md(d),d===c){N=null;break}if(f!==null){f.return=v,N=f;break}N=v}}}var y=i.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var _=x.sibling;x.sibling=null,x=_}while(x!==null)}}N=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,N=o;else e:for(;N!==null;){if(i=N,i.flags&2048)switch(i.tag){case 0:case 11:case 15:dn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,N=g;break e}N=i.return}}var p=t.current;for(N=p;N!==null;){o=N;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,N=m;else e:for(o=p;N!==null;){if(a=N,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ui(9,a)}}catch(b){Q(a,a.return,b)}if(a===o){N=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,N=w;break e}N=a.return}}if(D=s,Lt(),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(ti,t)}catch{}n=!0}return n}finally{M=r,Le.transition=e}}return!1}function ku(t,e,r){e=$r(r,e),e=Cd(t,e,1),t=Et(t,e,1),e=ge(),t!==null&&($n(t,1,e),je(t,e))}function Q(t,e,r){if(t.tag===3)ku(t,t,r);else for(;e!==null;){if(e.tag===3){ku(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Nt===null||!Nt.has(n))){t=$r(r,t),t=Pd(e,t,1),e=Et(e,t,1),t=ge(),e!==null&&($n(e,1,t),je(e,t));break}}e=e.return}}function qp(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ge(),t.pingedLanes|=t.suspendedLanes&r,oe===t&&(le&r)===r&&(ne===4||ne===3&&(le&130023424)===le&&500>Y()-Za?Gt(t,0):Xa|=r),je(t,e)}function Qd(t,e){e===0&&(t.mode&1?(e=Yn,Yn<<=1,!(Yn&130023424)&&(Yn=4194304)):e=1);var r=ge();t=ut(t,e),t!==null&&($n(t,e,r),je(t,r))}function Kp(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Qd(t,r)}function Gp(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(j(314))}n!==null&&n.delete(e),Qd(t,r)}var Jd;Jd=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ke.current)_e=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return _e=!1,Ip(t,e,r);_e=!!(t.flags&131072)}else _e=!1,W&&e.flags&1048576&&ed(e,Ms,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;ks(t,e),t=e.pendingProps;var s=Rr(e,fe.current);Pr(e,r),s=qa(null,e,n,t,s,r);var i=Ka();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Se(n)?(i=!0,Ds(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Fa(e),s.updater=li,e.stateNode=s,s._reactInternals=e,Mo(e,n,t,r),e=Bo(null,e,n,!0,i,r)):(e.tag=0,W&&i&&La(e),me(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(ks(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Jp(n),t=ze(n,t),s){case 0:e=Fo(null,e,n,t,r);break e;case 1:e=hu(null,e,n,t,r);break e;case 11:e=cu(null,e,n,t,r);break e;case 14:e=du(null,e,n,ze(n.type,t),r);break e}throw Error(j(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ze(n,s),Fo(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ze(n,s),hu(t,e,n,s,r);case 3:e:{if(Ad(e),t===null)throw Error(j(387));n=e.pendingProps,i=e.memoizedState,s=i.element,od(t,e),Bs(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=$r(Error(j(423)),e),e=fu(t,e,n,r,s);break e}else if(n!==s){s=$r(Error(j(424)),e),e=fu(t,e,n,r,s);break e}else for(Ee=bt(e.stateNode.containerInfo.firstChild),Ne=e,W=!0,He=null,r=sd(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ar(),n===s){e=ct(t,e,r);break e}me(t,e,n,r)}e=e.child}return e;case 5:return ad(e),t===null&&$o(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Oo(n,s)?o=null:i!==null&&Oo(n,i)&&(e.flags|=32),Rd(t,e),me(t,e,o,r),e.child;case 6:return t===null&&$o(e),null;case 13:return Ld(t,e,r);case 4:return Ba(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Lr(e,null,n,r):me(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ze(n,s),cu(t,e,n,s,r);case 7:return me(t,e,e.pendingProps,r),e.child;case 8:return me(t,e,e.pendingProps.children,r),e.child;case 12:return me(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,F(zs,n._currentValue),n._currentValue=o,i!==null)if(qe(i.value,o)){if(i.children===s.children&&!ke.current){e=ct(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===n){if(i.tag===1){u=ot(-1,r&-r),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),Do(i.return,r,e),a.lanes|=r;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(j(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Do(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}me(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Pr(e,r),s=$e(s),n=n(s),e.flags|=1,me(t,e,n,r),e.child;case 14:return n=e.type,s=ze(n,e.pendingProps),s=ze(n.type,s),du(t,e,n,s,r);case 15:return Td(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ze(n,s),ks(t,e),e.tag=1,Se(n)?(t=!0,Ds(e)):t=!1,Pr(e,r),Nd(e,n,s),Mo(e,n,s,r),Bo(null,e,n,!0,t,r);case 19:return Id(t,e,r);case 22:return Od(t,e,r)}throw Error(j(156,e.tag))};function Yd(t,e){return jc(t,e)}function Qp(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ae(t,e,r,n){return new Qp(t,e,r,n)}function nl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Jp(t){if(typeof t=="function")return nl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ka)return 11;if(t===Sa)return 14}return 2}function Pt(t,e){var r=t.alternate;return r===null?(r=Ae(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function bs(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")nl(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case pr:return Qt(r.children,s,i,e);case _a:o=8,s|=8;break;case lo:return t=Ae(12,r,e,s|2),t.elementType=lo,t.lanes=i,t;case uo:return t=Ae(13,r,e,s),t.elementType=uo,t.lanes=i,t;case co:return t=Ae(19,r,e,s),t.elementType=co,t.lanes=i,t;case ac:return di(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ic:o=10;break e;case oc:o=9;break e;case ka:o=11;break e;case Sa:o=14;break e;case mt:o=16,n=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=Ae(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Qt(t,e,r,n){return t=Ae(7,t,n,e),t.lanes=r,t}function di(t,e,r,n){return t=Ae(22,t,n,e),t.elementType=ac,t.lanes=r,t.stateNode={isHidden:!1},t}function Yi(t,e,r){return t=Ae(6,t,null,e),t.lanes=r,t}function Xi(t,e,r){return e=Ae(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Yp(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ri(0),this.expirationTimes=Ri(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function sl(t,e,r,n,s,i,o,a,u){return t=new Yp(t,e,r,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ae(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fa(i),t}function Xp(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Xd(t){if(!t)return Ot;t=t._reactInternals;e:{if(rr(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Se(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var r=t.type;if(Se(r))return Xc(t,r,e)}return e}function Zd(t,e,r,n,s,i,o,a,u){return t=sl(r,n,!0,t,s,i,o,a,u),t.context=Xd(null),r=t.current,n=ge(),s=Ct(r),i=ot(n,s),i.callback=e??null,Et(r,i,s),t.current.lanes=s,$n(t,s,n),je(t,n),t}function hi(t,e,r,n){var s=e.current,i=ge(),o=Ct(s);return r=Xd(r),e.context===null?e.context=r:e.pendingContext=r,e=ot(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Et(s,e,o),t!==null&&(Ve(t,s,o,i),ws(t,s,o)),o}function Js(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Su(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function il(t,e){Su(t,e),(t=t.alternate)&&Su(t,e)}function Zp(){return null}var eh=typeof reportError=="function"?reportError:function(t){console.error(t)};function ol(t){this._internalRoot=t}fi.prototype.render=ol.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));hi(t,e,null,null)};fi.prototype.unmount=ol.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;er(function(){hi(null,t,null,null)}),e[lt]=null}};function fi(t){this._internalRoot=t}fi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Oc();t={blockedOn:null,target:t,priority:e};for(var r=0;r<vt.length&&e!==0&&e<vt[r].priority;r++);vt.splice(r,0,t),r===0&&Ac(t)}};function al(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ju(){}function em(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Js(o);i.call(c)}}var o=Zd(e,n,t,0,null,!1,!1,"",ju);return t._reactRootContainer=o,t[lt]=o.current,bn(t.nodeType===8?t.parentNode:t),er(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=Js(u);a.call(c)}}var u=sl(t,0,!1,null,null,!1,!1,"",ju);return t._reactRootContainer=u,t[lt]=u.current,bn(t.nodeType===8?t.parentNode:t),er(function(){hi(e,u,r,n)}),u}function mi(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=Js(o);a.call(u)}}hi(e,o,t,s)}else o=em(r,e,t,s,n);return Js(o)}Pc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=tn(e.pendingLanes);r!==0&&(Ea(e,r|1),je(e,Y()),!(D&6)&&(Dr=Y()+500,Lt()))}break;case 13:er(function(){var n=ut(t,1);if(n!==null){var s=ge();Ve(n,t,1,s)}}),il(t,1)}};Na=function(t){if(t.tag===13){var e=ut(t,134217728);if(e!==null){var r=ge();Ve(e,t,134217728,r)}il(t,134217728)}};Tc=function(t){if(t.tag===13){var e=Ct(t),r=ut(t,e);if(r!==null){var n=ge();Ve(r,t,e,n)}il(t,e)}};Oc=function(){return M};Rc=function(t,e){var r=M;try{return M=t,e()}finally{M=r}};_o=function(t,e,r){switch(e){case"input":if(po(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=ii(n);if(!s)throw Error(j(90));uc(n),po(n,s)}}}break;case"textarea":dc(t,r);break;case"select":e=r.value,e!=null&&br(t,!!r.multiple,e,!1)}};yc=el;wc=er;var tm={usingClientEntryPoint:!1,Events:[Un,yr,ii,gc,vc,el]},Yr={findFiberByHostInstance:Vt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rm={bundleType:Yr.bundleType,version:Yr.version,rendererPackageName:Yr.rendererPackageName,rendererConfig:Yr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kc(t),t===null?null:t.stateNode},findFiberByHostInstance:Yr.findFiberByHostInstance||Zp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ls=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ls.isDisabled&&ls.supportsFiber)try{ti=ls.inject(rm),Xe=ls}catch{}}Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tm;Pe.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!al(e))throw Error(j(200));return Xp(t,e,null,r)};Pe.createRoot=function(t,e){if(!al(t))throw Error(j(299));var r=!1,n="",s=eh;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=sl(t,1,!1,null,null,r,!1,n,s),t[lt]=e.current,bn(t.nodeType===8?t.parentNode:t),new ol(e)};Pe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=kc(e),t=t===null?null:t.stateNode,t};Pe.flushSync=function(t){return er(t)};Pe.hydrate=function(t,e,r){if(!pi(e))throw Error(j(200));return mi(null,t,e,!0,r)};Pe.hydrateRoot=function(t,e,r){if(!al(t))throw Error(j(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=eh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Zd(e,null,t,1,r??null,s,!1,i,o),t[lt]=e.current,bn(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new fi(e)};Pe.render=function(t,e,r){if(!pi(e))throw Error(j(200));return mi(null,t,e,!1,r)};Pe.unmountComponentAtNode=function(t){if(!pi(t))throw Error(j(40));return t._reactRootContainer?(er(function(){mi(null,null,t,!1,function(){t._reactRootContainer=null,t[lt]=null})}),!0):!1};Pe.unstable_batchedUpdates=el;Pe.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!pi(r))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return mi(t,e,r,!1,n)};Pe.version="18.3.1-next-f1338f8080-20240426";function th(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(th)}catch(t){console.error(t)}}th(),tc.exports=Pe;var nm=tc.exports,rh,bu=nm;rh=bu.createRoot,bu.hydrateRoot;const sm=[{username:"Admin",password:"201931",role:"admin",full_name:"Administrador"},{username:"Pastora",password:"201931",role:"admin",full_name:"Rocio Palma"},{username:"Sgalindo",password:"S2025",role:"tutora",full_name:"Sandra Galindo"},{username:"Kromero",password:"K2025",role:"tutora",full_name:"Katty Romero"},{username:"Egarcia",password:"E2025",role:"tutora",full_name:"Esperanza Garcia"},{username:"Lcombariza",password:"L2025",role:"tutora",full_name:"Luz Marina Combariza"},{username:"Gquintero",password:"G2025",role:"tutora",full_name:"Gina Quintero"}];function nr(){const[t,e]=P.useState(null),[r,n]=P.useState(null),[s,i]=P.useState(!0);P.useEffect(()=>{const d=localStorage.getItem("currentUser");if(d)try{const h=JSON.parse(d);e(h),n({id:h.username,email:h.username+"@cdi660.com",role:h.role,full_name:h.full_name,created_at:new Date().toISOString()})}catch(h){console.error("Error parsing saved user:",h),localStorage.removeItem("currentUser")}i(!1)},[]);const o=async(d,h)=>{console.log("Attempting login with:",d,h);const f=sm.find(v=>v.username.toLowerCase()===d.toLowerCase()&&v.password===h);if(console.log("Found user:",f),f){const v={username:f.username,role:f.role,full_name:f.full_name};try{localStorage.setItem("currentUser",JSON.stringify(v));const y={id:f.username,email:f.username+"@cdi660.com",role:f.role,full_name:f.full_name,created_at:new Date().toISOString()};return e(v),n(y),console.log("Login successful"),console.log("User set:",v),console.log("Profile set:",y),{error:null}}catch(y){return console.error("Error saving user data:",y),{error:{message:"Error al guardar datos de usuario"}}}}else return console.log("Invalid credentials"),{error:{message:"Usuario o contraseña incorrectos"}}},a=()=>{localStorage.removeItem("currentUser"),e(null),n(null),window.location.reload()},u=(r==null?void 0:r.role)==="admin",c=(r==null?void 0:r.role)==="tutora";return{user:t,profile:r,loading:s,signIn:o,signOut:a,isAdmin:u,isTutora:c}}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var im={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),U=(t,e)=>{const r=P.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:u,...c},d)=>P.createElement("svg",{ref:d,...im,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${om(t)}`,a].join(" "),...c},[...e.map(([h,f])=>P.createElement(h,f)),...Array.isArray(u)?u:[u]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=U("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=U("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=U("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=U("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=U("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=U("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=U("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gi=U("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=U("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=U("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=U("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=U("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=U("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=U("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=U("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=U("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=U("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=U("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=U("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=U("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=U("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=U("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=U("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=U("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=U("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=U("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=U("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=U("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=U("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=U("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function km(){const[t,e]=P.useState(""),[r,n]=P.useState(""),[s,i]=P.useState(!1),[o,a]=P.useState(!1),[u,c]=P.useState("");P.useState(!1);const{signIn:d}=nr(),h=async f=>{if(f.preventDefault(),!t.trim()||!r.trim()){c("Por favor ingresa usuario y contraseña");return}a(!0),c(""),console.log("Form submitted with:",t,r);try{const{error:v}=await d(t,r);console.log("SignIn result:",{error:v}),v?c(v.message):console.log("Login successful, should redirect now")}catch(v){c("Error de conexión. Intenta nuevamente."),console.error("Login error:",v)}finally{a(!1)}};return l.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-900 via-purple-800 to-indigo-900",children:[l.jsx("div",{className:"absolute inset-0",children:[...Array(50)].map((f,v)=>l.jsx("div",{className:"absolute animate-pulse",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,animationDuration:`${2+Math.random()*3}s`},children:l.jsx(wm,{className:"w-1 h-1 text-white opacity-60"})},v))}),l.jsx("div",{className:"absolute top-20 right-20 w-32 h-32 bg-purple-600 rounded-full opacity-30 blur-sm"}),l.jsx("div",{className:"absolute bottom-32 left-16 w-20 h-20 bg-indigo-500 rounded-full opacity-40 blur-sm"}),l.jsx("div",{className:"absolute top-1/2 left-10 w-8 h-8 bg-pink-400 rounded-full opacity-50"})]}),l.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-3xl shadow-2xl p-8 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-0 right-0 h-2 bg-gradient-to-r from-purple-500 via-pink-500 to-purple-600"}),l.jsx("div",{className:"absolute -top-6 -right-6 w-16 h-16 bg-gradient-to-br from-purple-600 to-indigo-700 rounded-2xl rotate-12 flex items-center justify-center shadow-lg",children:l.jsx(vm,{className:"w-8 h-8 text-white transform -rotate-12"})}),l.jsxs("div",{className:"text-center mb-8 pt-4",children:[l.jsx("div",{className:"w-24 h-24 mx-auto mb-6 relative",children:l.jsx("img",{src:"/public/CDI660 BBB.png",alt:"CDI 660 Logo",className:"w-full h-full object-contain rounded-full shadow-lg"})}),l.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-2",children:"LOGIN"}),l.jsx("p",{className:"text-purple-500 font-medium text-sm tracking-wider",children:"LANDING PAGE"})]}),u&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-xl",children:l.jsx("p",{className:"text-red-600 text-sm text-center",children:u})}),l.jsxs("form",{onSubmit:h,className:"space-y-6",children:[l.jsx("div",{children:l.jsx("input",{type:"text",placeholder:"Username",value:t,onChange:f=>e(f.target.value),className:"w-full p-4 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-colors bg-gray-50 text-gray-700 placeholder-gray-400",required:!0})}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:s?"text":"password",placeholder:"Password",value:r,onChange:f=>n(f.target.value),className:"w-full p-4 border-2 border-gray-200 rounded-xl focus:border-purple-500 focus:outline-none transition-colors bg-gray-50 text-gray-700 placeholder-gray-400 pr-12",required:!0}),l.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-purple-500 transition-colors",children:s?l.jsx(hm,{className:"w-5 h-5"}):l.jsx(fm,{className:"w-5 h-5"})})]}),l.jsx("button",{type:"submit",disabled:o,className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white py-4 rounded-xl font-bold text-lg hover:from-pink-600 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105 shadow-lg",children:o?"LOGGING IN...":"LOGIN"})]})]}),l.jsxs("div",{className:"mt-6 bg-white/10 backdrop-blur-sm rounded-2xl p-4 text-white text-xs",children:[l.jsx("h3",{className:"font-bold mb-2 text-center",children:"Usuarios de Prueba:"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-center",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:"Administradores:"}),l.jsx("p",{children:"Admin / 201931"}),l.jsx("p",{children:"Pastora / 201931"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold",children:"Tutoras:"}),l.jsx("p",{children:"Sgalindo / S2025"}),l.jsx("p",{children:"Kromero / K2025"})]})]})]})]})})]})}function Sm(){const{profile:t,signOut:e,isAdmin:r}=nr();return l.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:l.jsx(ra,{className:"w-5 h-5 text-white"})}),l.jsx("span",{className:"ml-3 text-xl font-bold text-gray-900",children:"Sistema de Pagos"})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(vi,{className:"w-5 h-5 text-gray-600"}),l.jsxs("div",{className:"text-sm",children:[l.jsx("p",{className:"font-medium text-gray-900",children:t==null?void 0:t.full_name}),l.jsx("p",{className:"text-gray-500 capitalize",children:r?"Administrador":"Tutora"})]})]}),l.jsxs("button",{onClick:e,className:"flex items-center space-x-1 px-3 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-50 rounded-md transition-colors",children:[l.jsx(gm,{className:"w-4 h-4"}),l.jsx("span",{children:"Salir"})]})]})]})})})}function jm({activeView:t,onViewChange:e}){const{isAdmin:r}=nr(),s=[{id:"dashboard",label:"Dashboard",icon:mm,allowTutora:!0},{id:"participants",label:"Participantes",icon:yi,allowTutora:!0},{id:"payments",label:"Pagos",icon:cm,allowTutora:!0},{id:"reports",label:"Reportes",icon:lm,allowTutora:!1},{id:"management",label:"Administración",icon:Ys,allowTutora:!1}].filter(i=>r||i.allowTutora);return l.jsx("div",{className:"w-64 bg-gray-50 min-h-screen border-r border-gray-200",children:l.jsx("div",{className:"p-4",children:l.jsx("nav",{className:"space-y-2",children:s.map(i=>{const o=i.icon,a=t===i.id;return l.jsxs("button",{onClick:()=>e(i.id),className:`
                  w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left transition-all duration-200
                  ${a?"bg-blue-500 text-white shadow-md":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}
                `,children:[l.jsx(o,{className:"w-5 h-5"}),l.jsx("span",{className:"font-medium",children:i.label})]},i.id)})})})})}const bm={blue:"from-blue-500 to-indigo-600",green:"from-green-500 to-emerald-600",orange:"from-orange-500 to-amber-600",red:"from-red-500 to-pink-600"};function us({title:t,value:e,subtitle:r,icon:n,color:s,trend:i}){return l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-shadow duration-200",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600 text-sm font-medium",children:t}),l.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:e}),r&&l.jsx("p",{className:"text-gray-500 text-sm mt-1",children:r})]}),l.jsx("div",{className:`w-16 h-16 bg-gradient-to-r ${bm[s]} rounded-2xl flex items-center justify-center`,children:l.jsx(n,{className:"w-8 h-8 text-white"})})]}),i&&l.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("span",{className:`text-sm font-medium ${i.value>=0?"text-green-600":"text-red-600"}`,children:[i.value>=0?"+":"",i.value,"%"]}),l.jsx("span",{className:"text-gray-500 text-sm",children:i.label})]})})]})}const Em="modulepreload",Nm=function(t){return"/Mensualidad/"+t},Eu={},zn=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(u=>{if(u=Nm(u),u in Eu)return;Eu[u]=!0;const c=u.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Em,c||(h.as="script"),h.crossOrigin="",h.href=u,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,v)=>{h.addEventListener("load",f),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Cm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>zn(async()=>{const{default:n}=await Promise.resolve().then(()=>Br);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class hl extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Pm extends hl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Nu extends hl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Cu extends hl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var na;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(na||(na={}));var Tm=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};class Om{constructor(e,{headers:r={},customFetch:n,region:s=na.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=Cm(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Tm(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:u}=r;u||(u=this.region);const c=new URL(`${this.url}/${e}`);u&&u!=="any"&&(a["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(x=>{throw new Pm(x)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new Nu(h);if(!h.ok)throw new Cu(h);let v=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return v==="application/json"?y=yield h.json():v==="application/octet-stream"?y=yield h.blob():v==="text/event-stream"?y=h:v==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof Cu||s instanceof Nu?s.context:void 0}}})}}var xe={},fl={},wi={},Fn={},xi={},_i={},Rm=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ur=Rm();const Am=Ur.fetch,oh=Ur.fetch.bind(Ur),ah=Ur.Headers,Lm=Ur.Request,Im=Ur.Response,Br=Object.freeze(Object.defineProperty({__proto__:null,Headers:ah,Request:Lm,Response:Im,default:oh,fetch:Am},Symbol.toStringTag,{value:"Module"})),$m=Th(Br);var ki={};Object.defineProperty(ki,"__esModule",{value:!0});let Dm=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ki.default=Dm;var lh=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_i,"__esModule",{value:!0});const Um=lh($m),Mm=lh(ki);let zm=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Um.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,u,c;let d=null,h=null,f=null,v=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=p:h=JSON.parse(p))}const _=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),g=(u=i.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");_&&g&&g.length>1&&(f=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,v=406,y="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const _=await i.text();try{d=JSON.parse(_),Array.isArray(d)&&i.status===404&&(h=[],d=null,v=200,y="OK")}catch{i.status===404&&_===""?(v=204,y="No Content"):d={message:_}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,v=200,y="OK"),d&&this.shouldThrowOnError)throw new Mm.default(d)}return{error:d,data:h,count:f,status:v,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,u;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};_i.default=zm;var Fm=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xi,"__esModule",{value:!0});const Bm=Fm(_i);let Hm=class extends Bm.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const u=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${u};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};xi.default=Hm;var Wm=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Fn,"__esModule",{value:!0});const Vm=Wm(xi);let qm=class extends Vm.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Fn.default=qm;var Km=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wi,"__esModule",{value:!0});const Xr=Km(Fn);let Gm=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new Xr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((a,u)=>a.concat(Object.keys(u)),[]);if(o.length>0){const a=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",a.join(","))}}return new Xr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Xr.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Xr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Xr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};wi.default=Gm;var uh=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fl,"__esModule",{value:!0});const Qm=uh(wi),Jm=uh(Fn);let Ym=class ch{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new Qm.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new ch(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let a;const u=new URL(`${this.url}/rpc/${e}`);let c;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{u.searchParams.append(h,f)})):(a="POST",c=r);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new Jm.default({method:a,url:u,headers:d,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};fl.default=Ym;var Hr=Ie&&Ie.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xe,"__esModule",{value:!0});xe.PostgrestError=xe.PostgrestBuilder=xe.PostgrestTransformBuilder=xe.PostgrestFilterBuilder=xe.PostgrestQueryBuilder=xe.PostgrestClient=void 0;const dh=Hr(fl);xe.PostgrestClient=dh.default;const hh=Hr(wi);xe.PostgrestQueryBuilder=hh.default;const fh=Hr(Fn);xe.PostgrestFilterBuilder=fh.default;const ph=Hr(xi);xe.PostgrestTransformBuilder=ph.default;const mh=Hr(_i);xe.PostgrestBuilder=mh.default;const gh=Hr(ki);xe.PostgrestError=gh.default;var Xm=xe.default={PostgrestClient:dh.default,PostgrestQueryBuilder:hh.default,PostgrestFilterBuilder:fh.default,PostgrestTransformBuilder:ph.default,PostgrestBuilder:mh.default,PostgrestError:gh.default};const{PostgrestClient:Zm,PostgrestQueryBuilder:rv,PostgrestFilterBuilder:nv,PostgrestTransformBuilder:sv,PostgrestBuilder:iv,PostgrestError:ov}=Xm;class e0{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const t0="2.15.5",r0=`realtime-js/${t0}`,n0="1.0.0",sa=1e4,s0=1e3,i0=100;var pn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(pn||(pn={}));var ee;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ee||(ee={}));var Be;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Be||(Be={}));var ia;(function(t){t.websocket="websocket"})(ia||(ia={}));var Wt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Wt||(Wt={}));class o0{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+s));o=o+s;const u=n.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:u,payload:c}}}class vh{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var z;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(z||(z={}));const Pu=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=a0(o,t,e,s),i),{})},a0=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?yh(i,o):oa(o)},yh=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return d0(e,r)}switch(t){case z.bool:return l0(e);case z.float4:case z.float8:case z.int2:case z.int4:case z.int8:case z.numeric:case z.oid:return u0(e);case z.json:case z.jsonb:return c0(e);case z.timestamp:return h0(e);case z.abstime:case z.date:case z.daterange:case z.int4range:case z.int8range:case z.money:case z.reltime:case z.text:case z.time:case z.timestamptz:case z.timetz:case z.tsrange:case z.tstzrange:return oa(e);default:return oa(e)}},oa=t=>t,l0=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},u0=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},c0=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},d0=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>yh(e,a))}return t},h0=t=>typeof t=="string"?t.replace(" ","T"):t,wh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Zi{constructor(e,r,n={},s=sa){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Tu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Tu||(Tu={}));class mn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=mn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=mn.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=mn.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},u={};return this.map(i,(c,d)=>{o[c]||(u[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const f=d.map(_=>_.presence_ref),v=h.map(_=>_.presence_ref),y=d.filter(_=>v.indexOf(_.presence_ref)<0),x=h.filter(_=>f.indexOf(_.presence_ref)<0);y.length>0&&(a[c]=y),x.length>0&&(u[c]=x)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:u},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,u)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(u),d.length>0){const h=e[a].map(v=>v.presence_ref),f=d.filter(v=>h.indexOf(v.presence_ref)<0);e[a].unshift(...f)}n(a,d,u)}),this.map(o,(a,u)=>{let c=e[a];if(!c)return;const d=u.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=c,s(a,c,u),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ou;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ou||(Ou={}));var gn;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(gn||(gn={}));var rt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(rt||(rt={}));class pl{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ee.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Zi(this,Be.join,this.params,this.timeout),this.rejoinTimer=new vh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ee.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ee.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ee.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Be.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new mn(this),this.broadcastEndpointURL=wh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ee.closed){const{config:{broadcast:o,presence:a,private:u}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[gn.PRESENCE]&&this.bindings[gn.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:c,private:u};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(rt.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(rt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var y;if(this.socket.setAuth(),v===void 0){e==null||e(rt.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,_=(y=x==null?void 0:x.length)!==null&&y!==void 0?y:0,g=[];for(let p=0;p<_;p++){const m=x[p],{filter:{event:w,schema:b,table:S,filter:E}}=m,k=v&&v[p];if(k&&k.event===w&&k.schema===b&&k.table===S&&k.filter===E)g.push(Object.assign(Object.assign({},m),{id:k.id}));else{this.unsubscribe(),this.state=ee.errored,e==null||e(rt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(rt.SUBSCRIBED);return}}).receive("error",v=>{this.state=ee.errored,e==null||e(rt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(rt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===ee.joined&&e===gn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,u;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ee.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Be.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Zi(this,Be.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ee.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Zi(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>i0){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:u,leave:c,join:d}=Be;if(n&&[a,u,c,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,x,_;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((_=(x=v.filter)===null||x===void 0?void 0:x.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(v=>v.callback(f,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var y,x,_,g,p,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const w=v.id,b=(y=v.filter)===null||y===void 0?void 0:y.event;return w&&((x=r.ids)===null||x===void 0?void 0:x.includes(w))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const w=(p=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return w==="*"||w===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:x,table:_,commit_timestamp:g,type:p,errors:m}=y;f=Object.assign(Object.assign({},{schema:x,table:_,commit_timestamp:g,eventType:p,new:{},old:{},errors:m}),this._getPayloadRecords(y))}v.callback(f,n)})}_isClosed(){return this.state===ee.closed}_isJoined(){return this.state===ee.joined}_isJoining(){return this.state===ee.joining}_isLeaving(){return this.state===ee.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&pl.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Be.close,{},e)}_onError(e){this._on(Be.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ee.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Pu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Pu(e.columns,e.old_record)),r}}const eo=()=>{},cs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},f0=[1e3,2e3,5e3,1e4],p0=1e4,m0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class g0{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=sa,this.transport=null,this.heartbeatIntervalMs=cs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=eo,this.ref=0,this.reconnectTimer=null,this.logger=eo,this.conn=null,this.sendBuffer=[],this.serializer=new o0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>zn(async()=>{const{default:a}=await Promise.resolve().then(()=>Br);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${ia.websocket}`,this.httpEndpoint=wh(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=e0.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:n0}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case pn.connecting:return Wt.Connecting;case pn.open:return Wt.Open;case pn.closing:return Wt.Closing;default:return Wt.Closed}}isConnected(){return this.connectionState()===Wt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new pl(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var u;(u=this.conn)===null||u===void 0||u.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(s0,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},cs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",u=i.status||"";this.log("receive",`${u} ${n} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Be.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([m0],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:r0};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Be.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new vh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},cs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,u,c,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:sa,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:cs.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:eo,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:h=>f0[h-1]||p0,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(h,f)=>f(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class ml extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function te(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class v0 extends ml{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class aa extends ml{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var y0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};const xh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>zn(async()=>{const{default:n}=await Promise.resolve().then(()=>Br);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},w0=()=>y0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield zn(()=>Promise.resolve().then(()=>Br),void 0)).Response:Response}),la=t=>{if(Array.isArray(t))return t.map(r=>la(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=la(n)}),e},x0=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var sr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};const to=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),_0=(t,e,r)=>sr(void 0,void 0,void 0,function*(){const n=yield w0();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new v0(to(s),i,o))}).catch(s=>{e(new aa(to(s),s))}):e(new aa(to(t),t))}),k0=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(x0(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function Bn(t,e,r,n,s,i){return sr(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,k0(e,n,s,i)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>_0(u,a,n))})})}function Xs(t,e,r,n){return sr(this,void 0,void 0,function*(){return Bn(t,"GET",e,r,n)})}function Je(t,e,r,n,s){return sr(this,void 0,void 0,function*(){return Bn(t,"POST",e,n,s,r)})}function ua(t,e,r,n,s){return sr(this,void 0,void 0,function*(){return Bn(t,"PUT",e,n,s,r)})}function S0(t,e,r,n){return sr(this,void 0,void 0,function*(){return Bn(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function _h(t,e,r,n,s){return sr(this,void 0,void 0,function*(){return Bn(t,"DELETE",e,n,s,r)})}var pe=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};const j0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ru={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class b0{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=xh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return pe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ru),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,u&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),d=this._getFinalPath(c),h=yield(e=="PUT"?ua:Je)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(te(i))return{data:null,error:i};throw i}})}upload(e,r,n){return pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return pe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let u;const c=Object.assign({upsert:Ru.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",c.cacheControl)):(u=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield ua(this.fetch,a.toString(),u,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(te(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,r){return pe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Je(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new ml("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}})}update(e,r,n){return pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return pe(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}})}copy(e,r,n){return pe(this,void 0,void 0,function*(){try{return{data:{path:(yield Je(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return pe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Je(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return pe(this,void 0,void 0,function*(){try{const s=yield Je(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}})}download(e,r){return pe(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Xs(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(te(a))return{data:null,error:a};throw a}})}info(e){return pe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Xs(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:la(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}})}exists(e){return pe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield S0(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(te(n)&&n instanceof aa){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return pe(this,void 0,void 0,function*(){try{return{data:yield _h(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}list(e,r,n){return pe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},j0),r),{prefix:e||""});return{data:yield Je(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}})}listV2(e,r){return pe(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Je(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const E0="2.12.1",N0={"X-Client-Info":`storage-js/${E0}`};var or=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};class C0{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},N0),r),this.fetch=xh(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return or(this,void 0,void 0,function*(){try{return{data:yield Xs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(te(e))return{data:null,error:e};throw e}})}getBucket(e){return or(this,void 0,void 0,function*(){try{return{data:yield Xs(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return or(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return or(this,void 0,void 0,function*(){try{return{data:yield ua(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}})}emptyBucket(e){return or(this,void 0,void 0,function*(){try{return{data:yield Je(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}deleteBucket(e){return or(this,void 0,void 0,function*(){try{return{data:yield _h(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}}class P0 extends C0{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new b0(this.url,this.headers,e,this.fetch)}}const T0="2.57.4";let nn="";typeof Deno<"u"?nn="deno":typeof document<"u"?nn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?nn="react-native":nn="node";const O0={"X-Client-Info":`supabase-js-${nn}/${T0}`},R0={headers:O0},A0={schema:"public"},L0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},I0={};var $0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};const D0=t=>{let e;return t?e=t:typeof fetch>"u"?e=oh:e=fetch,(...r)=>e(...r)},U0=()=>typeof Headers>"u"?ah:Headers,M0=(t,e,r)=>{const n=D0(r),s=U0();return(i,o)=>$0(void 0,void 0,void 0,function*(){var a;const u=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var z0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};function F0(t){return t.endsWith("/")?t:t+"/"}function B0(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:u,auth:c,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>z0(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function H0(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(F0(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const kh="2.71.1",dr=30*1e3,ca=3,ro=ca*dr,W0="http://localhost:9999",V0="supabase.auth.token",q0={"X-Client-Info":`gotrue-js/${kh}`},da="X-Supabase-Api-Version",Sh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},K0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,G0=10*60*1e3;class gl extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function R(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Q0 extends gl{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function J0(t){return R(t)&&t.name==="AuthApiError"}class jh extends gl{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class It extends gl{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class pt extends It{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Y0(t){return R(t)&&t.name==="AuthSessionMissingError"}class ds extends It{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class hs extends It{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class fs extends It{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function X0(t){return R(t)&&t.name==="AuthImplicitGrantRedirectError"}class Au extends It{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ha extends It{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function no(t){return R(t)&&t.name==="AuthRetryableFetchError"}class Lu extends It{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class fa extends It{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Zs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Iu=` 	
\r=`.split(""),Z0=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Iu.length;e+=1)t[Iu[e].charCodeAt(0)]=-2;for(let e=0;e<Zs.length;e+=1)t[Zs[e].charCodeAt(0)]=e;return t})();function $u(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Zs[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Zs[n]),e.queuedBits-=6}}function bh(t,e,r){const n=Z0[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Du(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{rg(o,n,r)};for(let o=0;o<t.length;o+=1)bh(t.charCodeAt(o),s,i);return e.join("")}function eg(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function tg(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}eg(n,e)}}function rg(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function ng(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)bh(t.charCodeAt(s),r,n);return new Uint8Array(e)}function sg(t){const e=[];return tg(t,r=>e.push(r)),new Uint8Array(e)}function ig(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>$u(s,r,n)),$u(null,r,n),e.join("")}function og(t){return Math.round(Date.now()/1e3)+t}function ag(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Me=()=>typeof window<"u"&&typeof document<"u",Mt={tested:!1,writable:!1},Eh=()=>{if(!Me())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Mt.tested)return Mt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Mt.tested=!0,Mt.writable=!0}catch{Mt.tested=!0,Mt.writable=!1}return Mt.writable};function lg(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Nh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>zn(async()=>{const{default:n}=await Promise.resolve().then(()=>Br);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},ug=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",hr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},zt=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ft=async(t,e)=>{await t.removeItem(e)};class Si{constructor(){this.promise=new Si.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Si.promiseConstructor=Promise;function so(t){const e=t.split(".");if(e.length!==3)throw new fa("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!K0.test(e[n]))throw new fa("JWT not in base64url format");return{header:JSON.parse(Du(e[0])),payload:JSON.parse(Du(e[1])),signature:ng(e[2]),raw:{header:e[0],payload:e[1]}}}async function cg(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function dg(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function hg(t){return("0"+t.toString(16)).substr(-2)}function fg(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,hg).join("")}async function pg(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function mg(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await pg(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ar(t,e,r=!1){const n=fg();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await hr(t,`${e}-code-verifier`,s);const i=await mg(n);return[i,n===i?"plain":"s256"]}const gg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vg(t){const e=t.headers.get(da);if(!e||!e.match(gg))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function yg(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function wg(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const xg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function lr(t){if(!xg.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function io(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Uu(t){return JSON.parse(JSON.stringify(t))}var _g=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const Ht=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),kg=[502,503,504];async function Mu(t){var e;if(!ug(t))throw new ha(Ht(t),0);if(kg.includes(t.status))throw new ha(Ht(t),t.status);let r;try{r=await t.json()}catch(i){throw new jh(Ht(i),i)}let n;const s=vg(t);if(s&&s.getTime()>=Sh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Lu(Ht(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new pt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Lu(Ht(r),t.status,r.weak_password.reasons);throw new Q0(Ht(r),t.status||500,n)}const Sg=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function I(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[da]||(i[da]=Sh["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await jg(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function jg(t,e,r,n,s,i){const o=Sg(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(u){throw console.error(u),new ha(Ht(u),0)}if(a.ok||await Mu(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(u){await Mu(u)}}function et(t){var e;let r=null;Cg(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=og(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function zu(t){const e=et(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function wt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function bg(t){return{data:t,error:null}}function Eg(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=_g(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:a,user:u},error:null}}function Ng(t){return t}function Cg(t){return t.access_token&&t.refresh_token&&t.expires_in}const oo=["global","local","others"];var Pg=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class Tg{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Nh(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=oo[0]){if(oo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${oo.join(", ")}`);try{return await I(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await I(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:wt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Pg(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await I(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Eg,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(R(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await I(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:wt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,u;try{const c={nextPage:null,lastPage:0,total:0},d=await I(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Ng});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(u=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return v.length>0&&(v.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(y.split(";")[1].split("=")[1]);c[`${_}Page`]=x}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(R(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){lr(e);try{return await I(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:wt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){lr(e);try{return await I(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:wt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){lr(e);try{return await I(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:wt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){lr(e.userId);try{const{data:r,error:n}=await I(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(R(r))return{data:null,error:r};throw r}}async _deleteFactor(e){lr(e.userId),lr(e.id);try{return{data:await I(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}}function Fu(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function Og(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ur={debug:!!(globalThis&&Eh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ch extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Rg extends Ch{}async function Ag(t,e,r){ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ur.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw ur.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Rg(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ur.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Og();const Lg={url:W0,storageKey:V0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:q0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Bu(t,e,r){return await r()}const cr={};class Ln{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ln.nextInstanceID,Ln.nextInstanceID+=1,this.instanceID>0&&Me()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Lg),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Tg({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Nh(s.fetch),this.lock=s.lock||Bu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Me()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Ag:this.lock=Bu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Eh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Fu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Fu(this.memoryStorage)),Me()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=cr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){cr[this.storageKey]=Object.assign(Object.assign({},cr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=cr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){cr[this.storageKey]=Object.assign(Object.assign({},cr[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${kh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=lg(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Me()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),X0(i)){const u=(e=i.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return R(r)?{error:r}:{error:new jh("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:et}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(R(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await ar(this.storage,this.storageKey)),i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:y},xform:et})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:et})}else throw new hs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(R(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:zu})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:zu})}else throw new hs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ds}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(R(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,o,a,u,c,d,h,f,v;let y,x;if("message"in e)y=e.message,x=e.signature;else{const{chain:_,wallet:g,statement:p,options:m}=e;let w;if(Me())if(typeof g=="object")w=g;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))w=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const b=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const S=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),p?{statement:p}:null));let E;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")E=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)E=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)y=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),x=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${b.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const S=await w.signMessage(new TextEncoder().encode(y),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=S}}try{const{data:_,error:g}=await I(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:ig(x)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:et});if(g)throw g;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new ds}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:g})}catch(_){if(R(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const r=await zt(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await I(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:et});if(await ft(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ds}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(R(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await I(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:et}),{data:u,error:c}=a;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new ds}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(r){if(R(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:u}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await ar(this.storage,this.storageKey));const{error:h}=await I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:u}=e,{data:c,error:d}=await I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new hs("You must provide either an email or phone number.")}catch(a){if(R(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await I(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:et});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,c=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(R(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await ar(this.storage,this.storageKey)),await I(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:bg})}catch(i){if(R(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new pt;const{error:s}=await I(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(R(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await I(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await I(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new hs("You must provide either an email or phone number and a type")}catch(r){if(R(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await zt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<ro:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await zt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=io()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:wt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pt}:await I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:wt})})}catch(r){if(R(r))return Y0(r)&&(await this._removeSession(),await ft(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new pt;const o=s.session;let a=null,u=null;this.flowType==="pkce"&&e.email!=null&&([a,u]=await ar(this.storage,this.storageKey));const{data:c,error:d}=await I(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:u}),jwt:o.access_token,xform:wt});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new pt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=so(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:u}=await this._getUser(e.access_token);if(u)throw u;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(R(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new pt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(R(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Me())throw new fs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new fs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Au("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Au("No code detected.");const{data:p,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:u,token_type:c}=e;if(!i||!a||!o||!c)throw new fs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;u&&(f=parseInt(u));const v=f-d;v*1e3<=dr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:x,error:_}=await this._getUser(i);if(_)throw _;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(R(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await zt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(J0(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await ft(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=ag(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ar(this.storage,this.storageKey,!0));try{return await I(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(R(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,u,c,d;const{data:h,error:f}=i;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await I(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Me()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(R(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await I(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await dg(async s=>(s>0&&await cg(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await I(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:et})),(s,i)=>{const o=200*Math.pow(2,s);return i&&no(i)&&Date.now()+o-n<dr})}catch(n){if(this._debug(r,"error",n),R(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Me()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await zt(this.storage,this.storageKey);if(s&&this.userStorage){let o=await zt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await hr(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:io()}else if(s&&!s.user&&!s.user){const o=await zt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await ft(this.storage,this.storageKey+"-user"),await hr(this.storage,this.storageKey,s)):s.user=io()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ro;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${ro}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),no(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new pt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Si;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new pt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),R(i)){const o={session:null,error:i};return no(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await hr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Uu(s);await hr(this.storage,this.storageKey,i)}else{const s=Uu(r);await hr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await ft(this.storage,this.storageKey),await ft(this.storage,this.storageKey+"-code-verifier"),await ft(this.storage,this.storageKey+"-user"),this.userStorage&&await ft(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Me()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),dr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/dr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${dr}ms, refresh threshold is ${ca} ticks`),s<=ca&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Ch)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Me()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await ar(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await I(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:u,error:c}=await I(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await I(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(R(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await I(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(R(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=so(s.access_token);let a=null;o.aal&&(a=o.aal);let u=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+G0>s)return n;const{data:i,error:o}=await I(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:y}=await this.getSession();if(y||!v.session)return{data:null,error:y};n=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:u}}=so(n);r!=null&&r.allowExpired||yg(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const d=wg(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,sg(`${a}.${u}`)))throw new fa("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}}Ln.nextInstanceID=0;const Ig=Ln;class $g extends Ig{constructor(e){super(e)}}var Dg=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{c(n.next(d))}catch(h){o(h)}}function u(d){try{c(n.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})};class Ug{constructor(e,r,n){var s,i,o;this.supabaseUrl=e,this.supabaseKey=r;const a=H0(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const u=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:A0,realtime:I0,auth:Object.assign(Object.assign({},L0),{storageKey:u}),global:R0},d=B0(n??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=M0(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Zm(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new P0(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Om(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Dg(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:u,debug:c},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $g({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:u,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new g0(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Mg=(t,e,r)=>new Ug(t,e,r);function zg(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}zg()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Fg="https://wevciagbwpnpwjbvnday.supabase.co",Bg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndldmNpYWdid3BucHdqYnZuZGF5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc5NDcxNzAsImV4cCI6MjA3MzUyMzE3MH0.kaN4cpl1oSV3eIdcqc9DN_DBqkR9BjoYxL9fLhsPXvw",q=Mg(Fg,Bg);function Hu(){const[t,e]=P.useState({totalParticipants:0,paidThisMonth:0,pendingThisMonth:0,totalCollected:0,totalPending:0}),[r,n]=P.useState(!0);P.useEffect(()=>{s()},[]);const s=async()=>{try{const a=new Date().toISOString().slice(0,7),{count:u}=await q.from("participants").select("*",{count:"exact",head:!0}).eq("is_active",!0),{data:c}=await q.from("payments").select("participant_id").eq("month",a),d=(c==null?void 0:c.length)||0,h=(u||0)-d,{data:f}=await q.from("payments").select("amount"),v=(f==null?void 0:f.reduce((g,p)=>g+p.amount,0))||0,{data:y}=await q.from("participants").select("monthly_fee").eq("is_active",!0),x=(y==null?void 0:y.reduce((g,p)=>g+p.monthly_fee,0))||0,_=h*(x/(u||1));e({totalParticipants:u||0,paidThisMonth:d,pendingThisMonth:h,totalCollected:v,totalPending:_})}catch(a){console.error("Error loading stats:",a)}finally{n(!1)}};if(r)return l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"animate-pulse",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(a=>l.jsx("div",{className:"h-32 bg-gray-200 rounded-xl"},a))})})});const i=t.totalParticipants>0?Math.round(t.paidThisMonth/t.totalParticipants*100):0,o=a=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(a);return l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Resumen del mes actual"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[l.jsx(us,{title:"Total Participantes",value:t.totalParticipants,icon:yi,color:"blue"}),l.jsx(us,{title:"Pagaron este mes",value:t.paidThisMonth,subtitle:`${i}% del total`,icon:gi,color:"green"}),l.jsx(us,{title:"Pendientes de pago",value:t.pendingThisMonth,subtitle:`${100-i}% del total`,icon:nh,color:"orange"}),l.jsx(us,{title:"Total Recaudado",value:o(t.totalCollected),icon:xm,color:"blue"})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Progreso de Pagos del Mes"}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mb-4",children:l.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 h-4 rounded-full transition-all duration-500",style:{width:`${i}%`}})}),l.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[l.jsxs("span",{children:[t.paidThisMonth," pagaron"]}),l.jsxs("span",{children:[i,"%"]}),l.jsxs("span",{children:[t.pendingThisMonth," pendientes"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Estado de Pagos"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[l.jsx("span",{className:"text-green-800 font-medium",children:"Al día"}),l.jsx("span",{className:"text-green-600 font-bold",children:t.paidThisMonth})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 rounded-lg",children:[l.jsx("span",{className:"text-orange-800 font-medium",children:"Pendientes"}),l.jsx("span",{className:"text-orange-600 font-bold",children:t.pendingThisMonth})]})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Resumen Financiero"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[l.jsx("span",{className:"text-blue-800 font-medium",children:"Recaudado"}),l.jsx("span",{className:"text-blue-600 font-bold",children:o(t.totalCollected)})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[l.jsx("span",{className:"text-red-800 font-medium",children:"Por cobrar"}),l.jsx("span",{className:"text-red-600 font-bold",children:o(t.totalPending)})]})]})]})]})]})}function Hg({onEditParticipant:t,onBulkUpload:e}){const[r,n]=P.useState([]),[s,i]=P.useState(!0),[o,a]=P.useState(""),{isAdmin:u}=nr();P.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:f,error:v}=await q.from("participants").select("*").order("code");if(v)throw v;n(f||[])}catch(f){console.error("Error loading participants:",f)}finally{i(!1)}},d=async f=>{if(window.confirm("¿Estás seguro de eliminar este participante?"))try{const{error:v}=await q.from("participants").delete().eq("id",f);if(v)throw v;n(r.filter(y=>y.id!==f))}catch(v){console.error("Error deleting participant:",v),alert("Error al eliminar participante")}},h=r.filter(f=>f.full_name.toLowerCase().includes(o.toLowerCase())||f.code.toLowerCase().includes(o.toLowerCase()));return s?l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(f=>l.jsx("div",{className:"h-20 bg-gray-200 rounded-lg"},f))})}):l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Participantes"}),l.jsxs("p",{className:"text-gray-600 mt-2",children:[r.length," participantes registrados"]})]}),l.jsxs("div",{className:"flex space-x-3",children:[l.jsxs("button",{onClick:e,className:"flex items-center space-x-2 bg-gradient-to-r from-green-500 to-emerald-600 text-white px-4 py-2 rounded-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-200",children:[l.jsx(_m,{className:"w-5 h-5"}),l.jsx("span",{children:"Carga Masiva"})]}),l.jsxs("button",{onClick:()=>t({}),className:"flex items-center space-x-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white px-4 py-2 rounded-lg hover:from-blue-600 hover:to-indigo-700 transition-all duration-200",children:[l.jsx(ih,{className:"w-5 h-5"}),l.jsx("span",{children:"Agregar Participante"})]})]})]}),l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"relative",children:[l.jsx(ul,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"Buscar por nombre o código...",value:o,onChange:f=>a(f.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:h.length===0?l.jsxs("div",{className:"p-8 text-center",children:[l.jsx(vi,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"No se encontraron participantes"})]}):l.jsx("div",{className:"divide-y divide-gray-100",children:h.map(f=>l.jsxs("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full flex items-center justify-center",children:l.jsx(ta,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:f.full_name}),l.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600 mt-1",children:[l.jsx(ta,{className:"w-4 h-4"}),l.jsxs("span",{children:["Código: ",f.code]})]})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-lg font-semibold text-green-600",children:"$3.000"}),l.jsx("span",{className:"text-sm text-gray-500",children:"Cuota mensual"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>t(f),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:l.jsx(sh,{className:"w-4 h-4"})}),u&&l.jsx("button",{onClick:()=>d(f.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:l.jsx(cl,{className:"w-4 h-4"})})]})]})]}),l.jsx("div",{className:"mt-4",children:l.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${f.is_active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:f.is_active?"Activo":"Inactivo"})})]},f.id))})})]})}function Wg({participant:t,onClose:e,onSave:r}){const[n,s]=P.useState({code:"",full_name:"",is_active:!0}),[i,o]=P.useState(!1),[a,u]=P.useState("");P.useEffect(()=>{t!=null&&t.id&&s({code:t.code,full_name:t.full_name,is_active:t.is_active})},[t]);const c=async h=>{h.preventDefault(),o(!0),u("");try{const f={code:n.code,full_name:n.full_name,monthly_fee:3e3,is_active:n.is_active};if(t!=null&&t.id){const{error:v}=await q.from("participants").update(f).eq("id",t.id);if(v)throw v}else{const{error:v}=await q.from("participants").insert([f]);if(v)throw v}r(),e()}catch(f){u(f.message)}finally{o(!1)}},d=!!(t!=null&&t.id);return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:d?"Editar Participante":"Nuevo Participante"}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:l.jsx(dl,{className:"w-6 h-6"})})]}),a&&l.jsx("div",{className:"mx-6 mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:l.jsx("p",{className:"text-red-600 text-sm",children:a})}),l.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ta,{className:"w-4 h-4"}),l.jsx("span",{children:"Código *"})]})}),l.jsx("input",{type:"text",value:n.code,onChange:h=>s({...n,code:h.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Ej: P001, A123",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(vi,{className:"w-4 h-4"}),l.jsx("span",{children:"Nombre completo *"})]})}),l.jsx("input",{type:"text",value:n.full_name,onChange:h=>s({...n,full_name:h.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),l.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Cuota mensual:"}),l.jsx("span",{className:"text-lg font-bold text-green-600",children:"$3.000"})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Cuota fija para todos los participantes"})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"is_active",checked:n.is_active,onChange:h=>s({...n,is_active:h.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),l.jsx("label",{htmlFor:"is_active",className:"ml-2 text-sm text-gray-700",children:"Participante activo"})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:i,className:"flex-1 px-4 py-2 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-lg hover:from-blue-600 hover:to-indigo-700 disabled:opacity-50 transition-all duration-200",children:i?"Guardando...":d?"Actualizar":"Crear"})]})]})]})})}function Vg({onClose:t,onSave:e}){const[r,n]=P.useState(""),[s,i]=P.useState(!1),[o,a]=P.useState(""),[u,c]=P.useState([]),d=y=>{const x=y.trim().split(`
`),_=[];for(const g of x)if(g.trim()){const p=g.split(",").map(m=>m.trim());p.length>=2&&_.push({code:p[0],full_name:p[1]})}return _},h=y=>{if(n(y),a(""),y.trim())try{const x=d(y);c(x)}catch{a("Error al procesar los datos"),c([])}else c([])},f=async y=>{y.preventDefault(),i(!0),a("");try{if(u.length===0)throw new Error("No hay datos válidos para cargar");const x=u.map(w=>w.code),_=x.filter((w,b)=>x.indexOf(w)!==b);if(_.length>0)throw new Error(`Códigos duplicados encontrados: ${_.join(", ")}`);const{data:g}=await q.from("participants").select("code").in("code",x);if(g&&g.length>0){const w=g.map(b=>b.code);throw new Error(`Los siguientes códigos ya existen: ${w.join(", ")}`)}const p=u.map(w=>({code:w.code,full_name:w.full_name,monthly_fee:3e3,is_active:!0})),{error:m}=await q.from("participants").insert(p);if(m)throw m;e(),t()}catch(x){a(x.message)}finally{i(!1)}},v=()=>{const y=`P001,Juan Pérez
P002,María García
P003,Carlos López`,x=new Blob([y],{type:"text/plain"}),_=URL.createObjectURL(x),g=document.createElement("a");g.href=_,g.download="plantilla_participantes.txt",g.click(),URL.revokeObjectURL(_)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Carga Masiva de Participantes"}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:l.jsx(dl,{className:"w-6 h-6"})})]}),l.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Instrucciones"}),l.jsxs("button",{onClick:v,className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700 text-sm",children:[l.jsx(ll,{className:"w-4 h-4"}),l.jsx("span",{children:"Descargar plantilla"})]})]}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start space-x-2",children:[l.jsx(am,{className:"w-5 h-5 text-blue-600 mt-0.5"}),l.jsxs("div",{className:"text-sm text-blue-800",children:[l.jsx("p",{className:"font-medium mb-2",children:"Formato requerido:"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[l.jsx("li",{children:"Una línea por participante"}),l.jsxs("li",{children:["Formato: ",l.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"CÓDIGO,NOMBRE COMPLETO"})]}),l.jsxs("li",{children:["Ejemplo: ",l.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"P001,Juan Pérez"})]}),l.jsx("li",{children:"Los códigos deben ser únicos"})]})]})]})})]}),o&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:l.jsx("p",{className:"text-red-600 text-sm",children:o})}),l.jsxs("form",{onSubmit:f,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Datos de participantes"}),l.jsx("textarea",{value:r,onChange:y=>h(y.target.value),className:"w-full h-40 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm",placeholder:`P001,Juan Pérez
P002,María García
P003,Carlos López`,required:!0})]}),u.length>0&&l.jsxs("div",{children:[l.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-3 flex items-center space-x-2",children:[l.jsx(um,{className:"w-4 h-4 text-green-600"}),l.jsxs("span",{children:["Vista previa (",u.length," participantes)"]})]}),l.jsx("div",{className:"max-h-40 overflow-y-auto border border-gray-200 rounded-lg",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Código"}),l.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Nombre"})]})}),l.jsx("tbody",{className:"divide-y divide-gray-200",children:u.map((y,x)=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-3 py-2 font-mono text-blue-600",children:y.code}),l.jsx("td",{className:"px-3 py-2",children:y.full_name})]},x))})]})})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:s||u.length===0,className:"flex-1 px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg hover:from-green-600 hover:to-emerald-700 disabled:opacity-50 transition-all duration-200",children:s?"Cargando...":`Cargar ${u.length} participantes`})]})]})]})]})})}function qg({onEditPayment:t}){const[e,r]=P.useState([]),[n,s]=P.useState(!0),[i,o]=P.useState(""),{isAdmin:a}=nr();P.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:y,error:x}=await q.from("payments").select(`
          *,
          participant:participants(*)
        `).order("created_at",{ascending:!1});if(x)throw x;r(y||[])}catch(y){console.error("Error loading payments:",y)}finally{s(!1)}},c=async y=>{if(window.confirm("¿Estás seguro de eliminar este pago?"))try{const{error:x}=await q.from("payments").delete().eq("id",y);if(x)throw x;r(e.filter(_=>_.id!==y))}catch(x){console.error("Error deleting payment:",x),alert("Error al eliminar pago")}},d=e.filter(y=>{var x;return((x=y.participant)==null?void 0:x.full_name.toLowerCase().includes(i.toLowerCase()))||y.receipt_number.toLowerCase().includes(i.toLowerCase())}),h=y=>new Date(y).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}),f=y=>{const[x,_]=y.split("-");return new Date(parseInt(x),parseInt(_)-1).toLocaleDateString("es-ES",{month:"long"})},v=y=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(y);return n?l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(y=>l.jsx("div",{className:"h-20 bg-gray-200 rounded-lg"},y))})}):l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pagos"}),l.jsxs("p",{className:"text-gray-600 mt-2",children:[e.length," pagos registrados"]})]}),l.jsxs("button",{onClick:()=>t(),className:"flex items-center space-x-2 bg-gradient-to-r from-green-500 to-emerald-600 text-white px-4 py-2 rounded-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-200",children:[l.jsx(ih,{className:"w-5 h-5"}),l.jsx("span",{children:"Registrar Pago"})]})]}),l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"relative",children:[l.jsx(ul,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"Buscar por participante o recibo...",value:i,onChange:y=>o(y.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]})}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:d.length===0?l.jsxs("div",{className:"p-8 text-center",children:[l.jsx(Es,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"No se encontraron pagos"})]}):l.jsx("div",{className:"divide-y divide-gray-100",children:d.map(y=>{var x;return l.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:l.jsx(Es,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:(x=y.participant)==null?void 0:x.full_name}),l.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[l.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[l.jsx(ea,{className:"w-4 h-4"}),l.jsx("span",{children:f(y.month)})]}),l.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-600",children:[l.jsx(Es,{className:"w-4 h-4"}),l.jsxs("span",{children:["#",y.receipt_number]})]})]})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"flex items-center space-x-1 text-lg font-semibold text-green-600",children:[l.jsx(gi,{className:"w-5 h-5"}),l.jsx("span",{children:v(y.amount)})]}),l.jsx("span",{className:"text-sm text-gray-500",children:h(y.payment_date)})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>t(y),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:l.jsx(sh,{className:"w-4 h-4"})}),a&&l.jsx("button",{onClick:()=>c(y.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:l.jsx(cl,{className:"w-4 h-4"})})]})]})]})},y.id)})})})]})}function Kg({payment:t,onClose:e,onSave:r}){const[n,s]=P.useState([]),[i,o]=P.useState({participant_ids:[],months:[],amount:"",payment_date:"",receipt_number:"",observations:""}),[a,u]=P.useState(!1),[c,d]=P.useState(""),[h,f]=P.useState(""),{user:v}=nr();P.useEffect(()=>{if(y(),t!=null&&t.id)o({participant_ids:[t.participant_id],months:[parseInt(t.month.split("-")[1])],amount:t.amount.toString(),payment_date:t.payment_date,receipt_number:t.receipt_number,observations:""});else{const k=new Date,O=k.toISOString().slice(0,10),T=k.getMonth()+1;o(X=>({...X,payment_date:O,amount:"3000",months:[T]}))}},[t]);const y=async()=>{try{const{data:k,error:O}=await q.from("participants").select("*").eq("is_active",!0).order("code");if(O)throw O;s(k||[])}catch(k){console.error("Error loading participants:",k)}},x=async k=>{k.preventDefault(),u(!0),d("");try{if(i.months.length===0)throw new Error("Debe seleccionar al menos un mes");if(i.participant_ids.length===0)throw new Error("Debe seleccionar al menos un participante");if(t!=null&&t.id){const T=`${new Date().getFullYear()}-${i.months[0].toString().padStart(2,"0")}`,X={participant_id:i.participant_ids[0],month:T,amount:parseFloat(i.amount),payment_date:i.payment_date,receipt_number:i.receipt_number,created_by:v==null?void 0:v.id},{error:Ke}=await q.from("payments").update(X).eq("id",t.id);if(Ke)throw Ke}else{const O=new Date().getFullYear(),T=[];for(const Ke of i.participant_ids)for(const $t of i.months){const Hn=`${O}-${$t.toString().padStart(2,"0")}`;T.push({participant_id:Ke,month:Hn,amount:parseFloat(i.amount)/(i.participant_ids.length*i.months.length),payment_date:i.payment_date,receipt_number:i.receipt_number,created_by:v==null?void 0:v.id})}const{error:X}=await q.from("payments").insert(T);if(X)throw X}r(),e()}catch(O){d(O.message)}finally{u(!1)}},_=k=>{const O=i.participant_ids.includes(k)?i.participant_ids.filter(T=>T!==k):[...i.participant_ids,k];o(T=>({...T,participant_ids:O,amount:(3e3*O.length*T.months.length).toString()}))},g=k=>{const O=i.months.includes(k)?i.months.filter(T=>T!==k):[...i.months,k].sort((T,X)=>T-X);o(T=>({...T,months:O,amount:(3e3*T.participant_ids.length*O.length).toString()}))},p=k=>["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][k-1],m=k=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(k),w=n.filter(k=>k.full_name.toLowerCase().includes(h.toLowerCase())||k.code.toLowerCase().includes(h.toLowerCase())),b=()=>{const k=[];for(let O=1;O<=12;O++)k.push({value:O,label:p(O)});return k};P.useEffect(()=>{o(k=>({...k,amount:(3e3*k.participant_ids.length*k.months.length).toString()}))},[i.months.length,i.participant_ids.length]);const S=!!(t!=null&&t.id),E=b();return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:S?"Editar Pago":"Registrar Pago"}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:l.jsx(dl,{className:"w-6 h-6"})})]}),c&&l.jsx("div",{className:"mx-6 mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:l.jsx("p",{className:"text-red-600 text-sm",children:c})}),l.jsxs("form",{onSubmit:x,className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(vi,{className:"w-4 h-4"}),l.jsxs("span",{children:["Participantes * (",i.participant_ids.length," seleccionados)"]})]})}),S?l.jsxs("select",{value:i.participant_ids[0]||"",onChange:k=>o({...i,participant_ids:[k.target.value]}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",required:!0,children:[l.jsx("option",{value:"",children:"Seleccionar participante"}),n.map(k=>l.jsxs("option",{value:k.id,children:[k.code," - ",k.full_name]},k.id))]}):l.jsxs("div",{children:[l.jsxs("div",{className:"relative mb-2",children:[l.jsx(ul,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx("input",{type:"text",placeholder:"Buscar participante por código o nombre...",value:h,onChange:k=>f(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500"})]}),l.jsx("div",{className:"border border-gray-300 rounded-lg p-3 max-h-40 overflow-y-auto",children:w.map(k=>l.jsxs("label",{className:`flex items-center space-x-2 p-2 rounded cursor-pointer transition-colors ${i.participant_ids.includes(k.id)?"bg-green-100 text-green-800":"hover:bg-gray-50"}`,children:[l.jsx("input",{type:"checkbox",checked:i.participant_ids.includes(k.id),onChange:()=>_(k.id),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),l.jsx("span",{className:"text-sm font-mono text-blue-600",children:k.code}),l.jsx("span",{className:"text-sm",children:k.full_name})]},k.id))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ea,{className:"w-4 h-4"}),l.jsxs("span",{children:["Meses de pago * ",i.months.length>0&&`(${i.months.length} seleccionados)`]})]})}),S?l.jsxs("select",{value:i.months[0]||"",onChange:k=>o({...i,months:[parseInt(k.target.value)]}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",required:!0,children:[l.jsx("option",{value:"",children:"Seleccionar mes"}),E.map(k=>l.jsx("option",{value:k.value,children:k.label},k.value))]}):l.jsx("div",{className:"border border-gray-300 rounded-lg p-3 max-h-40 overflow-y-auto",children:l.jsx("div",{className:"grid grid-cols-2 gap-2",children:E.map(k=>l.jsxs("label",{className:`flex items-center space-x-2 p-2 rounded cursor-pointer transition-colors ${i.months.includes(k.value)?"bg-green-100 text-green-800":"hover:bg-gray-50"}`,children:[l.jsx("input",{type:"checkbox",checked:i.months.includes(k.value),onChange:()=>g(k.value),className:"w-4 h-4 text-green-600 border-gray-300 rounded focus:ring-green-500"}),l.jsx("span",{className:"text-sm",children:k.label})]},k.value))})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(gi,{className:"w-4 h-4"}),l.jsx("span",{children:"Monto total *"})]})}),l.jsx("input",{type:"number",step:"1000",min:"0",value:i.amount,onChange:k=>o({...i,amount:k.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"3000",required:!0}),(i.months.length>1||i.participant_ids.length>1)&&l.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[m(3e3)," × ",i.participant_ids.length," participantes × ",i.months.length," meses = ",m(3e3*i.participant_ids.length*i.months.length)]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ea,{className:"w-4 h-4"}),l.jsx("span",{children:"Fecha de pago *"})]})}),l.jsx("input",{type:"date",value:i.payment_date,onChange:k=>o({...i,payment_date:k.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Es,{className:"w-4 h-4"}),l.jsx("span",{children:"Número de recibo *"})]})}),l.jsx("input",{type:"text",value:i.receipt_number,onChange:k=>o({...i,receipt_number:k.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Ej: REC-001, 12345",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ys,{className:"w-4 h-4"}),l.jsx("span",{children:"Observaciones"})]})}),l.jsx("textarea",{value:i.observations,onChange:k=>o({...i,observations:k.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500",placeholder:"Ej: Pago correspondiente al año 2024, hermanos, etc.",rows:3})]}),l.jsxs("div",{className:"flex space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:a,className:"flex-1 px-4 py-2 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-lg hover:from-green-600 hover:to-emerald-700 disabled:opacity-50 transition-all duration-200",children:a?"Guardando...":S?"Actualizar":"Registrar"})]})]})]})})}function Gg(){const[t,e]=P.useState([]),[r,n]=P.useState([]),[s,i]=P.useState(!0),[o,a]=P.useState({startDate:"",endDate:"",participantId:"",month:""});P.useEffect(()=>{u()},[]);const u=async()=>{try{const[_,g]=await Promise.all([q.from("payments").select(`
            *,
            participant:participants(*)
          `).order("payment_date",{ascending:!1}),q.from("participants").select("*").eq("is_active",!0).order("code")]);if(_.error)throw _.error;if(g.error)throw g.error;e(_.data||[]),n(g.data||[])}catch(_){console.error("Error loading data:",_)}finally{i(!1)}},c=_=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(_),d=_=>new Date(_).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}),h=_=>{const[g,p]=_.split("-");return new Date(parseInt(g),parseInt(p)-1).toLocaleDateString("es-ES",{month:"long",year:"numeric"})},f=t.filter(_=>!(o.startDate&&_.payment_date<o.startDate||o.endDate&&_.payment_date>o.endDate||o.participantId&&_.participant_id!==o.participantId||o.month&&!_.month.includes(o.month))),v=f.reduce((_,g)=>_+g.amount,0),y=new Set(f.map(_=>_.participant_id)).size,x=()=>{const _=["Fecha","Participante","Código","Mes","Monto","Recibo"],g=f.map(S=>{var E,k;return[S.payment_date,((E=S.participant)==null?void 0:E.full_name)||"",((k=S.participant)==null?void 0:k.code)||"",h(S.month),S.amount,S.receipt_number]}),p=[_,...g].map(S=>S.map(E=>`"${E}"`).join(",")).join(`
`),m=new Blob([p],{type:"text/csv;charset=utf-8;"}),w=document.createElement("a"),b=URL.createObjectURL(m);w.setAttribute("href",b),w.setAttribute("download",`reporte_pagos_${new Date().toISOString().slice(0,10)}.csv`),w.style.visibility="hidden",document.body.appendChild(w),w.click(),document.body.removeChild(w)};return s?l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(_=>l.jsx("div",{className:"h-20 bg-gray-200 rounded-lg"},_))})}):l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Reportes"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Análisis y reportes de pagos"})]}),l.jsxs("button",{onClick:x,className:"flex items-center space-x-2 bg-gradient-to-r from-green-500 to-emerald-600 text-white px-4 py-2 rounded-lg hover:from-green-600 hover:to-emerald-700 transition-all duration-200",children:[l.jsx(ll,{className:"w-5 h-5"}),l.jsx("span",{children:"Exportar CSV"})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 mb-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[l.jsx(pm,{className:"w-5 h-5"}),l.jsx("span",{children:"Filtros"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha inicio"}),l.jsx("input",{type:"date",value:o.startDate,onChange:_=>a({...o,startDate:_.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha fin"}),l.jsx("input",{type:"date",value:o.endDate,onChange:_=>a({...o,endDate:_.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Participante"}),l.jsxs("select",{value:o.participantId,onChange:_=>a({...o,participantId:_.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[l.jsx("option",{value:"",children:"Todos"}),r.map(_=>l.jsxs("option",{value:_.id,children:[_.code," - ",_.full_name]},_.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mes"}),l.jsx("input",{type:"month",value:o.month,onChange:_=>a({...o,month:_.target.value}),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Total Recaudado"}),l.jsx("p",{className:"text-2xl font-bold text-green-600 mt-2",children:c(v)})]}),l.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center",children:l.jsx(gi,{className:"w-6 h-6 text-white"})})]})}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Participantes que Pagaron"}),l.jsx("p",{className:"text-2xl font-bold text-blue-600 mt-2",children:y})]}),l.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center",children:l.jsx(yi,{className:"w-6 h-6 text-white"})})]})}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Total Pagos"}),l.jsx("p",{className:"text-2xl font-bold text-purple-600 mt-2",children:f.length})]}),l.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-600 rounded-2xl flex items-center justify-center",children:l.jsx(Ys,{className:"w-6 h-6 text-white"})})]})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[l.jsx("div",{className:"p-6 border-b border-gray-100",children:l.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Detalle de Pagos (",f.length,")"]})}),f.length===0?l.jsxs("div",{className:"p-8 text-center",children:[l.jsx(Ys,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"No se encontraron pagos con los filtros aplicados"})]}):l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Participante"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mes"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha Pago"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recibo"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(_=>{var g,p;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:(g=_.participant)==null?void 0:g.full_name}),l.jsx("div",{className:"text-sm text-gray-500",children:(p=_.participant)==null?void 0:p.code})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:h(_.month)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:c(_.amount)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:d(_.payment_date)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:_.receipt_number})]},_.id)})})]})})]})]})}function Qg(){const[t,e]=P.useState({totalParticipants:0,activeParticipants:0,inactiveParticipants:0,totalPayments:0,totalAmount:0}),[r,n]=P.useState(!0);P.useEffect(()=>{s()},[]);const s=async()=>{try{const[u,c]=await Promise.all([q.from("participants").select("is_active"),q.from("payments").select("amount")]),d=u.data||[],h=c.data||[];e({totalParticipants:d.length,activeParticipants:d.filter(f=>f.is_active).length,inactiveParticipants:d.filter(f=>!f.is_active).length,totalPayments:h.length,totalAmount:h.reduce((f,v)=>f+v.amount,0)})}catch(u){console.error("Error loading stats:",u)}finally{n(!1)}},i=u=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(u),o=async()=>{try{const[u,c]=await Promise.all([q.from("participants").select("*").order("code"),q.from("payments").select(`
          *,
          participant:participants(code, full_name)
        `).order("payment_date",{ascending:!1})]),d=["Código","Nombre","Cuota Mensual","Estado","Fecha Creación"],h=(u.data||[]).map(m=>[m.code,m.full_name,m.monthly_fee,m.is_active?"Activo":"Inactivo",new Date(m.created_at).toLocaleDateString("es-ES")]),f=[d,...h].map(m=>m.map(w=>`"${w}"`).join(",")).join(`
`),v=["Fecha","Código Participante","Nombre","Mes","Monto","Recibo"],y=(c.data||[]).map(m=>{var w,b;return[m.payment_date,((w=m.participant)==null?void 0:w.code)||"",((b=m.participant)==null?void 0:b.full_name)||"",m.month,m.amount,m.receipt_number]}),x=[v,...y].map(m=>m.map(w=>`"${w}"`).join(",")).join(`
`),_=new Blob([f],{type:"text/csv;charset=utf-8;"}),g=document.createElement("a"),p=URL.createObjectURL(_);g.setAttribute("href",p),g.setAttribute("download",`participantes_${new Date().toISOString().slice(0,10)}.csv`),g.style.visibility="hidden",document.body.appendChild(g),g.click(),document.body.removeChild(g),setTimeout(()=>{const m=new Blob([x],{type:"text/csv;charset=utf-8;"}),w=document.createElement("a"),b=URL.createObjectURL(m);w.setAttribute("href",b),w.setAttribute("download",`pagos_${new Date().toISOString().slice(0,10)}.csv`),w.style.visibility="hidden",document.body.appendChild(w),w.click(),document.body.removeChild(w)},1e3)}catch(u){console.error("Error exporting data:",u),alert("Error al exportar datos")}},a=async()=>{if(window.confirm("⚠️ ADVERTENCIA: Esta acción eliminará TODOS los datos de participantes y pagos. ¿Estás seguro?")&&window.confirm("Esta acción NO se puede deshacer. ¿Realmente deseas continuar?"))try{n(!0),await q.from("payments").delete().neq("id","00000000-0000-0000-0000-000000000000"),await q.from("participants").delete().neq("id","00000000-0000-0000-0000-000000000000"),alert("Base de datos reiniciada exitosamente"),s()}catch(u){console.error("Error resetting database:",u),alert("Error al reiniciar la base de datos")}finally{n(!1)}};return r?l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(u=>l.jsx("div",{className:"h-20 bg-gray-200 rounded-lg"},u))})}):l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Administración"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"Panel de administración del sistema"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Total Participantes"}),l.jsx("p",{className:"text-2xl font-bold text-blue-600 mt-2",children:t.totalParticipants}),l.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[t.activeParticipants," activos, ",t.inactiveParticipants," inactivos"]})]}),l.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center",children:l.jsx(yi,{className:"w-6 h-6 text-white"})})]})}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Total Pagos"}),l.jsx("p",{className:"text-2xl font-bold text-green-600 mt-2",children:t.totalPayments}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Registros de pago"})]}),l.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-green-500 to-emerald-600 rounded-2xl flex items-center justify-center",children:l.jsx(dm,{className:"w-6 h-6 text-white"})})]})}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"Monto Total"}),l.jsx("p",{className:"text-2xl font-bold text-purple-600 mt-2",children:i(t.totalAmount)}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Recaudado histórico"})]}),l.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-600 rounded-2xl flex items-center justify-center",children:l.jsx(ra,{className:"w-6 h-6 text-white"})})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:l.jsx(ll,{className:"w-5 h-5 text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Exportar Datos"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Descargar todos los datos en formato CSV"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Exporta todos los participantes y pagos registrados en el sistema. Se generarán dos archivos CSV separados."}),l.jsx("button",{onClick:o,className:"w-full bg-gradient-to-r from-blue-500 to-indigo-600 text-white py-2 px-4 rounded-lg hover:from-blue-600 hover:to-indigo-700 transition-all duration-200",children:"Exportar Todos los Datos"})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-emerald-600 rounded-lg flex items-center justify-center",children:l.jsx(ra,{className:"w-5 h-5 text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Configuración"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Ajustes del sistema"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"bg-green-50 p-3 rounded-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-green-800",children:"Cuota mensual actual:"}),l.jsx("span",{className:"text-lg font-bold text-green-600",children:i(300)})]})}),l.jsx("div",{className:"bg-blue-50 p-3 rounded-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Moneda del sistema:"}),l.jsx("span",{className:"text-sm font-bold text-blue-600",children:"Pesos Colombianos (COP)"})]})})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-red-200 p-6 lg:col-span-2",children:[l.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[l.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-red-500 to-pink-600 rounded-lg flex items-center justify-center",children:l.jsx(nh,{className:"w-5 h-5 text-white"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-red-900",children:"Zona de Peligro"}),l.jsx("p",{className:"text-sm text-red-600",children:"Acciones irreversibles del sistema"})]})]}),l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsxs("div",{className:"flex items-start space-x-3",children:[l.jsx(ym,{className:"w-5 h-5 text-red-600 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"text-sm font-medium text-red-800 mb-2",children:"Reiniciar Base de Datos"}),l.jsx("p",{className:"text-sm text-red-700 mb-4",children:"Esta acción eliminará TODOS los participantes y pagos registrados. Esta operación NO se puede deshacer. Asegúrate de exportar los datos antes de continuar."}),l.jsxs("button",{onClick:a,className:"flex items-center space-x-2 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors",children:[l.jsx(cl,{className:"w-4 h-4"}),l.jsx("span",{children:"Reiniciar Base de Datos"})]})]})]})})]})]})]})}function Jg(){const{user:t,profile:e,loading:r}=nr(),[n,s]=P.useState("dashboard"),[i,o]=P.useState(null),[a,u]=P.useState(null),[c,d]=P.useState(!1),[h,f]=P.useState(!1),[v,y]=P.useState(!1);console.log("App render - loading:",r,"user:",t,"profile:",e);const x=k=>{o(k||{}),d(!0)},_=()=>{f(!0)},g=k=>{u(k||null),y(!0)},p=()=>{d(!1),o(null)},m=()=>{f(!1)},w=()=>{y(!1),u(null)},b=()=>{s("participants"),window.location.reload()},S=()=>{s("payments")};if(r)return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});if(!t||!e)return l.jsx(km,{});const E=()=>{switch(n){case"dashboard":return l.jsx(Hu,{});case"participants":return l.jsx(Hg,{onEditParticipant:x,onBulkUpload:_});case"payments":return l.jsx(qg,{onEditPayment:g});case"reports":return l.jsx(Gg,{});case"management":return l.jsx(Qg,{});default:return l.jsx(Hu,{})}};return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx(Sm,{}),l.jsxs("div",{className:"flex",children:[l.jsx(jm,{activeView:n,onViewChange:s}),l.jsx("main",{className:"flex-1",children:E()})]}),c&&l.jsx(Wg,{participant:i,onClose:p,onSave:b}),h&&l.jsx(Vg,{onClose:m,onSave:b}),v&&l.jsx(Kg,{payment:a,onClose:w,onSave:S})]})}rh(document.getElementById("root")).render(l.jsx(P.StrictMode,{children:l.jsx(Jg,{})}));
